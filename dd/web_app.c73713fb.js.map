{"version":3,"sources":["webpack:///web_app.c73713fb.js","webpack:///./src/main.js","webpack:///./src/vuex/store.js","webpack:///./src/vuex/modules/app.js","webpack:///./src/vuex/mutation-types.js","webpack:///./src/lib/vue-bb-plugin.js","webpack:///./src/page/app/index.js","webpack:///./src/page/app/template.html","webpack:///./src/page/app/value.js","webpack:///./src/vuex/actions.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","call","default","_interopRequireDefault","_defineProperty","value","defineProperty","enumerable","configurable","writable","getConfig","_q2","Promise","success","error","_axios2","get","_env2","API_HOST","params","corpid","getParamByName","appid","suitekey","paramUrl","document","URL","timeout","then","response","status","data","code","res","result","ddConfig","agentId","corpId","timeStamp","nonceStr","signature","type","jsApiList","errCode","msg","catch","err","ddIsReady","setTimeout","dd","ready","console","log","clearTimeout","biz","navigation","setLeft","show","control","showIcon","text","onSuccess","window","history","back","onFail","runtime","info","ability","parseInt","replace","JSON","stringify","initVue","_router$map","_vue2","use","_vueRouter2","_vueBbPlugin2","_vueDdPlugin2","router","transitionOnLoad","map","BASE_PATH","component","resolve","e","route","subRoutes","/","/member","redirect","*","sessionStorage","clear","historyCount","getItem","setItem","beforeEach","_ref","to","from","next","toIndex","path","fromIndex","commit","setRight","afterEach","_vuexRouterSync","sync","_store2","start","_index2","_fastclick2","attach","body","_q","_axios","_vue","_vueRouter","_vux","vux","_store","_fastclick","_env","_vueBbPlugin","_vueDdPlugin","_index","name","reg","RegExp","r","location","search","substr","match","unescape","dispatch","config","debug","devtools","Alert","Loading","Group","XInput","XButton","alert","finally","querySelector","remove","40","41","_vuex","_vuex2","_app","_app2","Store","modules","app","42","_mutations","_mutationTypes","state","isLoading","direction","ddConfigStatus","user","mutations","UPDATE_DIRECTION","DDCONFIG_SUCCESS","DDCONFIG_ERROR","UPDATE_CODE","LOGIN_SUCCESS","LOGIN_ERROR","43","UPDATE_LOADING","44","_typeof","Symbol","iterator","constructor","bbPlugin","install","Vue","option","cookie","options","days","time","decode","arguments","length","String","$","extend","undefined","expires","Date","setTime","getTime","encodeURIComponent","raw","toUTCString","domain","secure","join","s","decodeURIComponent","exec","base_path","localStorage","parse","removeItem","getUseSize","Format","fmt","o","M+","this","getMonth","d+","getDate","H+","getHours","m+","getMinutes","s+","getSeconds","q+","Math","floor","S","getMilliseconds","test","$1","getFullYear","k","Plugin","bb","45","_template","_template2","_value","_value2","_actions","Index","template","store","vuex","getters","userInfo","actions","getRequestAuthCode","watch","val","oldVal","mobile","$router","go","methods","computed","showConfigErrorDialog","showCodeErrorDialog","46","47","routerTransition","forward","48","49","callJsApi","getUserInfo","_ref2","suiteKey"],"mappings":"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","file":"web_app.c73713fb.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _q = __webpack_require__(1);\n\t\n\tvar _q2 = _interopRequireDefault(_q);\n\t\n\tvar _axios = __webpack_require__(5);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tvar _vue = __webpack_require__(31);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vueRouter = __webpack_require__(32);\n\t\n\tvar _vueRouter2 = _interopRequireDefault(_vueRouter);\n\t\n\t__webpack_require__(40);\n\t\n\tvar _vux = __webpack_require__(35);\n\t\n\tvar vux = _interopRequireWildcard(_vux);\n\t\n\tvar _vuexRouterSync = __webpack_require__(34);\n\t\n\tvar _store = __webpack_require__(41);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\tvar _fastclick = __webpack_require__(36);\n\t\n\tvar _fastclick2 = _interopRequireDefault(_fastclick);\n\t\n\tvar _env = __webpack_require__(30);\n\t\n\tvar _env2 = _interopRequireDefault(_env);\n\t\n\tvar _vueBbPlugin = __webpack_require__(44);\n\t\n\tvar _vueBbPlugin2 = _interopRequireDefault(_vueBbPlugin);\n\t\n\tvar _vueDdPlugin = __webpack_require__(38);\n\t\n\tvar _vueDdPlugin2 = _interopRequireDefault(_vueDdPlugin);\n\t\n\tvar _index = __webpack_require__(45);\n\t\n\tvar _index2 = _interopRequireDefault(_index);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\twindow.getParamByName = function (name) {\n\t    var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\n\t    var r = window.location.search.substr(1).match(reg);\n\t    if (r != null) return unescape(r[2]);return null;\n\t};\n\tvar dd = window.dd;\n\tvar commit = _store2.default.commit || _store2.default.dispatch;\n\t\n\tconsole.log((\"dev\"));\n\t_vue2.default.config.debug = (\"dev\") !== 'production';\n\t_vue2.default.config.devtools = (\"dev\") !== 'production';\n\t\n\t_vue2.default.component('alert', vux.Alert);\n\t_vue2.default.component('loading', vux.Loading);\n\t_vue2.default.component('group', vux.Group);\n\t_vue2.default.component('x-input', vux.XInput);\n\t_vue2.default.component('x-button', vux.XButton);\n\t\n\tvar ddConfig = null;\n\t\n\tgetConfig().then(function (data) {\n\t    ddConfig = data;\n\t    dd.config(ddConfig);\n\t})\n\t// .then(ddIsReady)\n\t// .then(initVue)\n\t// .then(()=>{\n\t//     document.querySelector('#init-loading').remove();\n\t//     console.log('init vue 完成')\n\t//     setTimeout(()=>{\n\t//         if(ddConfig != null){\n\t//             commit('DDCONFIG_SUCCESS', ddConfig)\n\t//         }else{\n\t//             commit('DDCONFIG_ERROR', false);\n\t//         }\n\t//     },300)\n\t// })\n\t.catch(function (err) {\n\t    alert(JSON.stringify(err));\n\t}).finally(function () {\n\t    //开发环境\n\t    ddIsReady().then(initVue).then(function () {\n\t        document.querySelector('#init-loading').remove();\n\t        console.log('init vue 完成');\n\t        setTimeout(function () {\n\t            if (ddConfig != null) {\n\t                commit('DDCONFIG_SUCCESS', ddConfig);\n\t            } else {\n\t                commit('DDCONFIG_ERROR', false);\n\t            }\n\t        }, 300);\n\t    });\n\t});\n\t\n\tfunction getConfig() {\n\t    return _q2.default.Promise(function (success, error) {\n\t        _axios2.default.get(_env2.default.API_HOST + '/auth/getConfig', {\n\t            params: {\n\t                corpid: getParamByName('corpid') || 'ding1b56d2f4ba72e91635c2f4657eb6378f',\n\t                appid: getParamByName('appid') || '2545',\n\t                suitekey: getParamByName('suiteKey') || 'suiteiyfdj0dfixywzqwg',\n\t                paramUrl: document.URL\n\t            },\n\t            timeout: 2000\n\t        }).then(function (response) {\n\t            if (response.status == 200 && response.data.code == 200) {\n\t                var res = response.data.result;\n\t                var _ddConfig = {\n\t                    agentId: res.agentId, // 必填，微应用ID\n\t                    corpId: res.corpId, //必填，企业ID\n\t                    timeStamp: res.timeStamp, // 必填，生成签名的时间戳\n\t                    nonceStr: res.nonceStr, // 必填，生成签名的随机串\n\t                    signature: res.signature, // 必填，签名\n\t                    type: 0, //选填。0表示微应用的jsapi,1表示服务窗的jsapi。不填默认为0。该参数从dingtalk.js的0.8.3版本开始支持\n\t                    jsApiList: ['runtime.info', 'runtime.permission.requestAuthCode', 'runtime.permission.requestOperateAuthCode', //反馈式操作临时授权码\n\t\n\t                    'biz.alipay.pay', 'biz.contact.choose', 'biz.contact.complexChoose', 'biz.contact.complexPicker', 'biz.contact.createGroup', 'biz.customContact.choose', 'biz.customContact.multipleChoose', 'biz.ding.post', 'biz.map.locate', 'biz.map.view', 'biz.util.openLink', 'biz.util.open', 'biz.util.share', 'biz.util.ut', 'biz.util.uploadImage', 'biz.util.previewImage', 'biz.util.datepicker', 'biz.util.timepicker', 'biz.util.datetimepicker', 'biz.util.chosen', 'biz.util.encrypt', 'biz.util.decrypt', 'biz.chat.pickConversation', 'biz.telephone.call', 'biz.navigation.setLeft', 'biz.navigation.setTitle', 'biz.navigation.setIcon', 'biz.navigation.close', 'biz.navigation.setRight', 'biz.navigation.setMenu', 'biz.user.get', 'ui.progressBar.setColors', 'device.base.getInterface', 'device.connection.getNetworkType', 'device.launcher.checkInstalledApps', 'device.launcher.launchApp', 'device.notification.confirm', 'device.notification.alert', 'device.notification.prompt', 'device.notification.showPreloader', 'device.notification.hidePreloader', 'device.notification.toast', 'device.notification.actionSheet', 'device.notification.modal', 'device.geolocation.get'] // 必填，需要使用的jsapi列表，注意：不要带dd。\n\t                };\n\t                success(_ddConfig);\n\t            } else {\n\t                error({ errCode: -2, msg: '接口请求失败' });\n\t            }\n\t        }).catch(function (err) {\n\t            error({ errCode: -2, msg: '接口请求失败' });\n\t        });\n\t    });\n\t}\n\t\n\tfunction ddIsReady() {\n\t    return _q2.default.Promise(function (success, error) {\n\t        var timeout = setTimeout(function () {\n\t            error({ errCode: -1, msg: 'dd.ready初始化超时' });\n\t        }, 2000);\n\t        dd.ready(function () {\n\t            console.log('初始化钉钉');\n\t            clearTimeout(timeout);\n\t\n\t            //设置返回按钮\n\t            dd.biz.navigation.setLeft({\n\t                show: true, //控制按钮显示， true 显示， false 隐藏， 默认true\n\t                control: true, //是否控制点击事件，true 控制，false 不控制， 默认false\n\t                showIcon: true, //是否显示icon，true 显示， false 不显示，默认true； 注：具体UI以客户端为准\n\t                text: '返回', //控制显示文本，空字符串表示显示默认文本\n\t                onSuccess: function onSuccess(result) {\n\t                    //如果control为true，则onSuccess将在发生按钮点击事件被回调\n\t                    console.log('点击了返回按钮');\n\t                    window.history.back();\n\t                },\n\t                onFail: function onFail(err) {}\n\t            });\n\t            //获取容器信息\n\t            dd.runtime.info({\n\t                onSuccess: function onSuccess(result) {\n\t                    window.ability = parseInt(result.ability.replace(/\\./g, ''));\n\t                    console.log('容器版本为' + window.ability);\n\t                },\n\t                onFail: function onFail(err) {}\n\t            });\n\t\n\t            success(true);\n\t        });\n\t        dd.error(function (err) {\n\t            clearTimeout(timeout);\n\t            /**\n\t             {\n\t                message:\"错误信息\",//message信息会展示出钉钉服务端生成签名使用的参数，请和您生成签名的参数作对比，找出错误的参数\n\t                errorCode:\"错误码\"\n\t             }\n\t             **/\n\t            console.error('dd error: ' + JSON.stringify(err));\n\t            error({ errCode: -1, msg: 'dd.error配置信息不对' });\n\t        });\n\t    });\n\t}\n\t\n\tfunction initVue() {\n\t    return _q2.default.Promise(function (success, error) {\n\t        var _router$map;\n\t\n\t        _vue2.default.use(_vueRouter2.default);\n\t        _vue2.default.use(_vueBbPlugin2.default);\n\t        _vue2.default.use(_vueDdPlugin2.default);\n\t\n\t        var router = new _vueRouter2.default({\n\t            transitionOnLoad: false\n\t        });\n\t        router.map((_router$map = {}, _defineProperty(_router$map, _env2.default.BASE_PATH, {\n\t            component: function component(resolve) {\n\t                __webpack_require__.e/* nsure */(2, function () {\n\t                    var route = __webpack_require__(50).default;\n\t                    resolve(route);\n\t                });\n\t            },\n\t            subRoutes: {\n\t                '/': {\n\t                    component: function component(resolve) {\n\t                        __webpack_require__.e/* nsure */(3, function () {\n\t                            var route = __webpack_require__(56).default;\n\t                            resolve(route);\n\t                        });\n\t                    }\n\t                },\n\t                '/member': {\n\t                    component: function component(resolve) {\n\t                        __webpack_require__.e/* nsure */(4, function () {\n\t                            var route = __webpack_require__(66).default;\n\t                            resolve(route);\n\t                        });\n\t                    }\n\t                }\n\t            }\n\t        }), _defineProperty(_router$map, _env2.default.BASE_PATH + '/user/sign_in', {\n\t            component: function component(resolve) {\n\t                __webpack_require__.e/* nsure */(5, function () {\n\t                    var route = __webpack_require__(74).default;\n\t                    resolve(route);\n\t                });\n\t            }\n\t        }), _defineProperty(_router$map, _env2.default.BASE_PATH + '/user/bind', {\n\t            component: function component(resolve) {\n\t                __webpack_require__.e/* nsure */(6, function () {\n\t                    var route = __webpack_require__(78).default;\n\t                    resolve(route);\n\t                });\n\t            }\n\t        }), _router$map));\n\t        router.redirect({\n\t            '*': _env2.default.BASE_PATH\n\t        });\n\t        var history = window.sessionStorage;\n\t        history.clear();\n\t        var historyCount = history.getItem('count') * 1 || 0;\n\t        history.setItem('/', 0);\n\t\n\t        router.beforeEach(function (_ref) {\n\t            var to = _ref.to,\n\t                from = _ref.from,\n\t                next = _ref.next;\n\t\n\t            var toIndex = history.getItem(to.path);\n\t            var fromIndex = history.getItem(from.path);\n\t            if (toIndex) {\n\t                if (toIndex > fromIndex || !fromIndex) {\n\t                    commit('UPDATE_DIRECTION', 'forward');\n\t                } else {\n\t                    commit('UPDATE_DIRECTION', 'reverse');\n\t                }\n\t            } else {\n\t                ++historyCount;\n\t                history.setItem('count', historyCount);\n\t                to.path !== '/' && history.setItem(to.path, historyCount);\n\t                commit('UPDATE_DIRECTION', 'forward');\n\t            }\n\t            commit('UPDATE_LOADING', true);\n\t\n\t            setTimeout(function () {\n\t                try {\n\t                    //设置右侧按钮\n\t                    dd.biz.navigation.setRight({\n\t                        show: false });\n\t                } catch (err) {\n\t                    console.error(err);\n\t                }\n\t\n\t                next();\n\t            }, 10);\n\t        });\n\t        router.afterEach(function () {\n\t            commit('UPDATE_LOADING', false);\n\t        });\n\t        (0, _vuexRouterSync.sync)(_store2.default, router);\n\t        router.start(_index2.default, '#app');\n\t\n\t        _fastclick2.default.attach(document.body);\n\t\n\t        success();\n\t    });\n\t}\n\n/***/ },\n\n/***/ 40:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 41:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(31);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vuex = __webpack_require__(33);\n\t\n\tvar _vuex2 = _interopRequireDefault(_vuex);\n\t\n\tvar _app = __webpack_require__(42);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vuex2.default);\n\t\n\texports.default = new _vuex2.default.Store({\n\t    modules: {\n\t        app: _app2.default\n\t    }\n\t});\n\n/***/ },\n\n/***/ 42:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _mutations;\n\t\n\tvar _mutationTypes = __webpack_require__(43);\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar state = {\n\t    isLoading: false, //路由加载标志位\n\t    direction: 'forward', //路由动画变量\n\t\n\t    ddConfig: null,\n\t    ddConfigStatus: null,\n\t    code: null,\n\t\n\t    user: null\n\t};\n\t\n\tvar mutations = (_mutations = {}, _defineProperty(_mutations, _mutationTypes.UPDATE_LOADING, function (state, status) {\n\t    state.isLoading = status;\n\t}), _defineProperty(_mutations, _mutationTypes.UPDATE_DIRECTION, function (state, direction) {\n\t    state.direction = direction;\n\t}), _defineProperty(_mutations, _mutationTypes.DDCONFIG_SUCCESS, function (state, config) {\n\t    state.ddConfig = config;\n\t    state.ddConfigStatus = true;\n\t}), _defineProperty(_mutations, _mutationTypes.DDCONFIG_ERROR, function (state, config) {\n\t    state.ddConfig = null;\n\t    state.ddConfigStatus = false;\n\t}), _defineProperty(_mutations, _mutationTypes.UPDATE_CODE, function (state, code) {\n\t    state.code = code;\n\t}), _defineProperty(_mutations, _mutationTypes.LOGIN_SUCCESS, function (state, user) {\n\t    state.user = user;\n\t}), _defineProperty(_mutations, _mutationTypes.LOGIN_ERROR, function (state, user) {\n\t    state.user = false;\n\t}), _mutations);\n\t\n\texports.default = {\n\t    state: state,\n\t    mutations: mutations\n\t};\n\n/***/ },\n\n/***/ 43:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar UPDATE_LOADING = exports.UPDATE_LOADING = 'UPDATE_LOADING'; //路由加载\n\t\n\tvar UPDATE_DIRECTION = exports.UPDATE_DIRECTION = 'UPDATE_DIRECTION'; //更新路由跳转动画\n\t\n\tvar DDCONFIG_SUCCESS = exports.DDCONFIG_SUCCESS = 'DDCONFIG_SUCCESS'; //钉钉配置成功\n\t\n\tvar DDCONFIG_ERROR = exports.DDCONFIG_ERROR = 'DDCONFIG_ERROR'; //钉钉配置失败\n\t\n\tvar UPDATE_CODE = exports.UPDATE_CODE = 'UPDATE_CODE'; //更新免登录CODE\n\t\n\tvar LOGIN_SUCCESS = exports.LOGIN_SUCCESS = 'LOGIN_SUCCESS'; //免登录成功\n\t\n\tvar LOGIN_ERROR = exports.LOGIN_ERROR = 'LOGIN_ERROR'; //免登录失败\n\n/***/ },\n\n/***/ 44:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(module) {'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _env = __webpack_require__(30);\n\t\n\tvar _env2 = _interopRequireDefault(_env);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar bbPlugin = {};\n\tbbPlugin.install = function (Vue, option) {\n\t\n\t    // 设置cookie\n\t    Vue.cookie = function (key, value, options) {\n\t        var days, time, result, decode;\n\t\n\t        if (arguments.length > 1 && String(value) !== \"[object Object]\") {\n\t            // Enforce object\n\t            options = $.extend({}, options);\n\t\n\t            if (value === null || value === undefined) options.expires = -1;\n\t\n\t            if (typeof options.expires === 'number') {\n\t                days = options.expires * 24 * 60 * 60 * 1000;\n\t                time = options.expires = new Date();\n\t\n\t                time.setTime(time.getTime() + days);\n\t            }\n\t\n\t            value = String(value);\n\t\n\t            return document.cookie = [encodeURIComponent(key), '=', options.raw ? value : value, options.expires ? '; expires=' + options.expires.toUTCString() : '', '; path=/', options.domain ? '; domain=' + options.domain : '', options.secure ? '; secure' : ''].join('');\n\t        }\n\t\n\t        // Key and possibly options given, get cookie\n\t        options = value || {};\n\t\n\t        decode = options.raw ? function (s) {\n\t            return s;\n\t        } : decodeURIComponent;\n\t\n\t        return (result = new RegExp('(?:^|; )' + encodeURIComponent(key) + '=([^;]*)').exec(document.cookie)) ? decode(result[1]) : null;\n\t    };\n\t\n\t    Vue.prototype.base_path = _env2.default.BASE_PATH;\n\t\n\t    // 简单封装本地存储\n\t    Vue.prototype.localStorage = {\n\t        getItem: function getItem(key) {\n\t            if ((typeof localStorage === 'undefined' ? 'undefined' : _typeof(localStorage)) === 'object') {\n\t                try {\n\t                    return JSON.parse(localStorage.getItem(key));\n\t                } catch (e) {\n\t                    alert('请关闭[无痕浏览]模式后再试!');\n\t                }\n\t            }\n\t        },\n\t        setItem: function setItem(key, value) {\n\t            if ((typeof localStorage === 'undefined' ? 'undefined' : _typeof(localStorage)) === 'object') {\n\t                try {\n\t                    return localStorage.setItem(key, JSON.stringify(value));\n\t                } catch (e) {\n\t                    alert('请关闭[无痕浏览]模式后再试!');\n\t                }\n\t            }\n\t        },\n\t        removeItem: function removeItem(key) {\n\t            if ((typeof localStorage === 'undefined' ? 'undefined' : _typeof(localStorage)) === 'object') {\n\t                try {\n\t                    return localStorage.removeItem(key);\n\t                } catch (e) {\n\t                    alert('请关闭[无痕浏览]模式后再试!');\n\t                }\n\t            }\n\t        },\n\t        getUseSize: function getUseSize() {\n\t            if ((typeof localStorage === 'undefined' ? 'undefined' : _typeof(localStorage)) === 'object') {\n\t                try {\n\t                    return JSON.stringify(localStorage).length;\n\t                } catch (e) {\n\t                    alert('请关闭[无痕浏览]模式后再试!');\n\t                }\n\t            }\n\t        }\n\t    };\n\t\n\t    Date.prototype.Format = function (fmt) {\n\t        //author: meizz\n\t        var o = {\n\t            \"M+\": this.getMonth() + 1, //月份\n\t            \"d+\": this.getDate(), //日\n\t            \"H+\": this.getHours(), //小时\n\t            \"m+\": this.getMinutes(), //分\n\t            \"s+\": this.getSeconds(), //秒\n\t            \"q+\": Math.floor((this.getMonth() + 3) / 3), //季度\n\t            \"S\": this.getMilliseconds() //毫秒\n\t        };\n\t        if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n\t        for (var k in o) {\n\t            if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length));\n\t        }return fmt;\n\t    };\n\t};\n\t\n\t(function (Plugin) {\n\t    if (( false ? 'undefined' : _typeof(module)) === 'object' && _typeof(module.exports) === 'object') {\n\t        module.exports = Plugin;\n\t    } else {\n\t        if (window.bb) {\n\t            window.bb['bbPlugin'] = Plugin;\n\t        } else {\n\t            window.bb = {\n\t                bbPlugin: Plugin\n\t            };\n\t        }\n\t    }\n\t})(bbPlugin);\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(39)(module)))\n\n/***/ },\n\n/***/ 45:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(31);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _template = __webpack_require__(46);\n\t\n\tvar _template2 = _interopRequireDefault(_template);\n\t\n\tvar _value = __webpack_require__(47);\n\t\n\tvar _value2 = _interopRequireDefault(_value);\n\t\n\t__webpack_require__(48);\n\t\n\tvar _store = __webpack_require__(41);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\tvar _actions = __webpack_require__(49);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Index = _vue2.default.extend({\n\t    template: _template2.default,\n\t    store: _store2.default,\n\t    vuex: {\n\t        getters: {\n\t            route: function route(state) {\n\t                return state.route;\n\t            },\n\t            isLoading: function isLoading(state) {\n\t                return state.app.isLoading;\n\t            },\n\t            direction: function direction(state) {\n\t                return state.app.direction;\n\t            },\n\t            ddConfig: function ddConfig(state) {\n\t                return state.app.ddConfig;\n\t            },\n\t            ddConfigStatus: function ddConfigStatus(state) {\n\t                return state.app.ddConfigStatus;\n\t            },\n\t            code: function code(state) {\n\t                return state.app.code;\n\t            },\n\t            userInfo: function userInfo(state) {\n\t                return state.app.user;\n\t            }\n\t        },\n\t        actions: {\n\t            getRequestAuthCode: _actions.getRequestAuthCode\n\t        }\n\t    },\n\t    watch: {\n\t        ddConfigStatus: function ddConfigStatus(val, oldVal) {\n\t            if (val === true) {\n\t                this.getRequestAuthCode(this.ddConfig.corpId);\n\t            }\n\t        },\n\t        userInfo: function userInfo(val, oldVal) {\n\t            if (val && val.mobile == '') {\n\t                this.$router.go(this.base_path + '/user/bind');\n\t            }\n\t        }\n\t    },\n\t    ready: function ready() {\n\t        console.log('APP ready 应该只执行一次');\n\t    },\n\t    data: function data() {\n\t        return _value2.default;\n\t    },\n\t    methods: {},\n\t    computed: {\n\t        showConfigErrorDialog: function showConfigErrorDialog() {\n\t            return this.ddConfigStatus === false;\n\t        },\n\t        showCodeErrorDialog: function showCodeErrorDialog() {\n\t            return this.code === false;\n\t        }\n\t    }\n\t});\n\t\n\texports.default = Index;\n\n/***/ },\n\n/***/ 46:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div>\\n    <router-view :transition=\\\"'vux-pop-' + (direction === 'forward' ? 'in' : 'out')\\\">\\n\\n    </router-view>\\n    <alert :show=\\\"showConfigErrorDialog\\\" title=\\\"发生错误\\\">\\n        dd.config配置失败\\n    </alert>\\n    <alert :show=\\\"showCodeErrorDialog\\\" title=\\\"发生错误\\\">\\n        免登陆code获取失败\\n    </alert>\\n</div>\"\n\n/***/ },\n\n/***/ 47:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar value = {\n\t    routerTransition: {\n\t        forward: 'slideRL',\n\t        back: 'slideLR'\n\t    }\n\t};\n\t\n\texports.default = value;\n\n/***/ },\n\n/***/ 48:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 49:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.getRequestAuthCode = getRequestAuthCode;\n\texports.getUserInfo = getUserInfo;\n\t\n\tvar _mutationTypes = __webpack_require__(43);\n\t\n\tvar mutations = _interopRequireWildcard(_mutationTypes);\n\t\n\tvar _env = __webpack_require__(30);\n\t\n\tvar _env2 = _interopRequireDefault(_env);\n\t\n\tvar _axios = __webpack_require__(5);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction getRequestAuthCode(_ref, corpId) {\n\t    var dispatch = _ref.dispatch,\n\t        state = _ref.state;\n\t\n\t\n\t    callJsApi('runtime.permission.requestAuthCode', {\n\t        corpId: state.app.ddConfig.corpId || corpId\n\t    }).then(function (result) {\n\t        dispatch(mutations.UPDATE_CODE, result.code);\n\t\n\t        getUserInfo({ dispatch: dispatch, state: state }, result.code);\n\t\n\t        console.log('获取到了免登陆code=>' + result.code);\n\t    }).catch(function (err) {\n\t        dispatch(mutations.UPDATE_CODE, false);\n\t        console.log('获取免登陆code失败');\n\t    });\n\t}\n\t\n\tfunction getUserInfo(_ref2, code) {\n\t    var dispatch = _ref2.dispatch,\n\t        state = _ref2.state;\n\t\n\t    _axios2.default.get(_env2.default.API_HOST + '/user/getUserinfo', {\n\t        params: {\n\t            code: code,\n\t            corpId: state.app.ddConfig.corpId,\n\t            suiteKey: window.getParamByName('suiteKey')\n\t        },\n\t        timeout: 5000\n\t    }).then(function (response) {\n\t        if (response.status == 200 && response.data.code == 200) {\n\t            var user = response.data.result;\n\t            dispatch(mutations.LOGIN_SUCCESS, user);\n\t            // dispatch(mutations.UPDATE_SYS_LEVEL, user.sys_level);\n\t        } else {\n\t            dispatch(mutations.LOGIN_ERROR, false);\n\t        }\n\t    }).catch(function (err) {\n\t        dispatch(mutations.LOGIN_ERROR, false);\n\t    });\n\t}\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// web_app.c73713fb.js","import Q from 'q'\nimport axios from 'axios'\nimport Vue from 'vue'\nimport Router from 'vue-router'\nimport 'vux/dist/vux.css'\nimport * as vux from 'vux'\nimport { sync } from 'vuex-router-sync'\nimport store from './vuex/store'\nimport FastClick from 'fastclick'\nimport env from '../env'\nimport bbPlugin from './lib/vue-bb-plugin'\nimport ddPlugin from './lib/vue-dd-plugin'\nimport App from './page/app/index'\n\nwindow.getParamByName = function(name) {\n    var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\n    var r = window.location.search.substr(1).match(reg);\n    if (r != null) return unescape(r[2]); return null;\n};\nlet dd = window.dd;\nconst commit = store.commit || store.dispatch;\n\nconsole.log(process.env.NODE_ENV)\nVue.config.debug = process.env.NODE_ENV !== 'production';\nVue.config.devtools = process.env.NODE_ENV !== 'production';\n\nVue.component('alert',vux.Alert)\nVue.component('loading',vux.Loading)\nVue.component('group',vux.Group)\nVue.component('x-input',vux.XInput)\nVue.component('x-button',vux.XButton)\n\nlet ddConfig = null;\n\ngetConfig()\n    .then((data)=>{\n        ddConfig = data;\n        dd.config(ddConfig);\n    })\n    // .then(ddIsReady)\n    // .then(initVue)\n    // .then(()=>{\n    //     document.querySelector('#init-loading').remove();\n    //     console.log('init vue 完成')\n    //     setTimeout(()=>{\n    //         if(ddConfig != null){\n    //             commit('DDCONFIG_SUCCESS', ddConfig)\n    //         }else{\n    //             commit('DDCONFIG_ERROR', false);\n    //         }\n    //     },300)\n    // })\n    .catch((err)=>{\n        alert(JSON.stringify(err));\n    })\n    .finally(()=>{\n        //开发环境\n        ddIsReady()\n            .then(initVue)\n            .then(()=>{\n                document.querySelector('#init-loading').remove();\n                console.log('init vue 完成')\n                setTimeout(()=>{\n                    if(ddConfig != null){\n                        commit('DDCONFIG_SUCCESS', ddConfig)\n                    }else{\n                        commit('DDCONFIG_ERROR', false);\n                    }\n                },300)\n            })\n    })\n\n\nfunction getConfig() {\n    return Q.Promise((success, error)=>{\n        axios.get(env.API_HOST+'/auth/getConfig', {\n            params: {\n                corpid: getParamByName('corpid')||'ding1b56d2f4ba72e91635c2f4657eb6378f',\n                appid: getParamByName('appid')||'2545',\n                suitekey: getParamByName('suiteKey')||'suiteiyfdj0dfixywzqwg',\n                paramUrl: document.URL\n            },\n            timeout: 2000,\n        }).then(function (response) {\n            if(response.status == 200 && response.data.code == 200){\n                let res = response.data.result;\n                let ddConfig = {\n                    agentId: res.agentId, // 必填，微应用ID\n                    corpId: res.corpId,//必填，企业ID\n                    timeStamp: res.timeStamp, // 必填，生成签名的时间戳\n                    nonceStr: res.nonceStr, // 必填，生成签名的随机串\n                    signature: res.signature, // 必填，签名\n                    type:0,   //选填。0表示微应用的jsapi,1表示服务窗的jsapi。不填默认为0。该参数从dingtalk.js的0.8.3版本开始支持\n                    jsApiList : [\n                        'runtime.info',\n                        'runtime.permission.requestAuthCode',\n                        'runtime.permission.requestOperateAuthCode', //反馈式操作临时授权码\n\n                        'biz.alipay.pay',\n                        'biz.contact.choose',\n                        'biz.contact.complexChoose',\n                        'biz.contact.complexPicker',\n                        'biz.contact.createGroup',\n                        'biz.customContact.choose',\n                        'biz.customContact.multipleChoose',\n                        'biz.ding.post',\n                        'biz.map.locate',\n                        'biz.map.view',\n                        'biz.util.openLink',\n                        'biz.util.open',\n                        'biz.util.share',\n                        'biz.util.ut',\n                        'biz.util.uploadImage',\n                        'biz.util.previewImage',\n                        'biz.util.datepicker',\n                        'biz.util.timepicker',\n                        'biz.util.datetimepicker',\n                        'biz.util.chosen',\n                        'biz.util.encrypt',\n                        'biz.util.decrypt',\n                        'biz.chat.pickConversation',\n                        'biz.telephone.call',\n                        'biz.navigation.setLeft',\n                        'biz.navigation.setTitle',\n                        'biz.navigation.setIcon',\n                        'biz.navigation.close',\n                        'biz.navigation.setRight',\n                        'biz.navigation.setMenu',\n                        'biz.user.get',\n\n                        'ui.progressBar.setColors',\n\n                        'device.base.getInterface',\n                        'device.connection.getNetworkType',\n                        'device.launcher.checkInstalledApps',\n                        'device.launcher.launchApp',\n                        'device.notification.confirm',\n                        'device.notification.alert',\n                        'device.notification.prompt',\n                        'device.notification.showPreloader',\n                        'device.notification.hidePreloader',\n                        'device.notification.toast',\n                        'device.notification.actionSheet',\n                        'device.notification.modal',\n                        'device.geolocation.get',\n\n\n                    ] // 必填，需要使用的jsapi列表，注意：不要带dd。\n                }\n                success(ddConfig)\n            }else{\n                error({errCode:-2,msg:'接口请求失败'})\n            }\n        }).catch(function (err) {\n            error({errCode:-2,msg:'接口请求失败'})\n        });\n    })\n\n}\n\nfunction ddIsReady() {\n    return Q.Promise((success, error)=>{\n        let timeout = setTimeout(()=>{\n            error({errCode:-1,msg:'dd.ready初始化超时'});\n        },2000)\n        dd.ready(function(){\n            console.log('初始化钉钉');\n            clearTimeout(timeout)\n\n            //设置返回按钮\n            dd.biz.navigation.setLeft({\n                show: true,//控制按钮显示， true 显示， false 隐藏， 默认true\n                control: true,//是否控制点击事件，true 控制，false 不控制， 默认false\n                showIcon: true,//是否显示icon，true 显示， false 不显示，默认true； 注：具体UI以客户端为准\n                text: '返回',//控制显示文本，空字符串表示显示默认文本\n                onSuccess : function(result) {\n                    //如果control为true，则onSuccess将在发生按钮点击事件被回调\n                    console.log('点击了返回按钮');\n                    window.history.back();\n                },\n                onFail : function(err) {}\n            });\n            //获取容器信息\n            dd.runtime.info({\n                onSuccess: function(result) {\n                    window.ability = parseInt(result.ability.replace(/\\./g,''));\n                    console.log('容器版本为'+window.ability)\n                },\n                onFail : function(err) {}\n            })\n\n            success(true)\n        });\n        dd.error(function(err){\n            clearTimeout(timeout)\n            /**\n             {\n                message:\"错误信息\",//message信息会展示出钉钉服务端生成签名使用的参数，请和您生成签名的参数作对比，找出错误的参数\n                errorCode:\"错误码\"\n             }\n             **/\n            console.error('dd error: ' + JSON.stringify(err));\n            error({errCode:-1,msg:'dd.error配置信息不对'})\n        });\n    })\n}\n\nfunction initVue() {\n    return Q.Promise((success, error)=>{\n\n        Vue.use(Router)\n        Vue.use(bbPlugin)\n        Vue.use(ddPlugin)\n\n        let router = new Router({\n            transitionOnLoad: false\n        })\n        router.map({\n            [env.BASE_PATH] : {\n                component: function(resolve){\n                    require.ensure([], function() {\n                        let route = require('./page/home/route').default;\n                        resolve(route);\n                    },'home')\n                },\n                subRoutes: {\n                    '/': {\n                        component: function (resolve) {\n                            require.ensure([], function () {\n                                let route = require('./page/home/index/route').default;\n                                resolve(route);\n                            },'index')\n                        }\n                    },\n                    '/member' : {\n                        component: function(resolve){\n                            require.ensure([], function() {\n                                let route = require('./page/home/member/route').default;\n                                resolve(route);\n                            },'member')\n                        }\n                    },\n                    // '/banbu' : {\n                    //     component: function(resolve){\n                    //         require.ensure([], function() {\n                    //             let route = require('./states/index/wenda/route').default;\n                    //             resolve(route);\n                    //         },'wenda')\n                    //     }\n                    // },\n                }\n            },\n            [env.BASE_PATH+'/user/sign_in'] : {\n                component: function (resolve) {\n                    require.ensure([], function () {\n                        let route = require('./page/user-sign-in/route').default;\n                        resolve(route);\n                    }, 'user-sign-in')\n                }\n            },\n            [env.BASE_PATH+'/user/bind'] : {\n                component: function (resolve) {\n                    require.ensure([], function () {\n                        let route = require('./page/user-bind-mobile/route').default;\n                        resolve(route);\n                    }, 'user-bind-mobile')\n                }\n            }\n        });\n        router.redirect({\n            '*': env.BASE_PATH\n        });\n        let history = window.sessionStorage\n        history.clear()\n        let historyCount = history.getItem('count') * 1 || 0\n        history.setItem('/', 0)\n\n        router.beforeEach(({ to, from, next }) => {\n            const toIndex = history.getItem(to.path)\n            const fromIndex = history.getItem(from.path)\n            if (toIndex) {\n                if (toIndex > fromIndex || !fromIndex) {\n                    commit('UPDATE_DIRECTION', 'forward')\n                } else {\n                    commit('UPDATE_DIRECTION', 'reverse')\n                }\n            } else {\n                ++historyCount\n                history.setItem('count', historyCount)\n                to.path !== '/' && history.setItem(to.path, historyCount)\n                commit('UPDATE_DIRECTION', 'forward')\n            }\n            commit('UPDATE_LOADING', true)\n\n\n            setTimeout(()=>{\n                try {\n                    //设置右侧按钮\n                    dd.biz.navigation.setRight({\n                        show: false,//控制按钮显示， true 显示， false 隐藏， 默认true\n                    });\n                }catch (err){\n                    console.error(err);\n                }\n\n                next();\n            }, 10)\n        })\n        router.afterEach(() => {\n            commit('UPDATE_LOADING', false)\n        })\n        sync(store, router)\n        router.start(App, '#app')\n\n        FastClick.attach(document.body)\n\n        success()\n    })\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport app from './modules/app'\n\nVue.use(Vuex)\n\n\nexport default new Vuex.Store({\n    modules: {\n        app\n    }\n})\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/store.js","import {\n    UPDATE_LOADING,\n    UPDATE_DIRECTION,\n    DDCONFIG_SUCCESS,\n    DDCONFIG_ERROR,\n    UPDATE_CODE,\n    LOGIN_SUCCESS,\n    LOGIN_ERROR\n} from '../mutation-types'\n\nconst state = {\n    isLoading: false, //路由加载标志位\n    direction: 'forward', //路由动画变量\n\n    ddConfig: null,\n    ddConfigStatus: null,\n    code: null,\n\n    user: null\n}\n\nconst mutations = {\n    [UPDATE_LOADING] (state, status) {\n        state.isLoading = status\n    },\n    [UPDATE_DIRECTION] (state, direction) {\n        state.direction = direction\n    },\n    [DDCONFIG_SUCCESS] (state, config) {\n        state.ddConfig = config;\n        state.ddConfigStatus = true;\n    },\n    [DDCONFIG_ERROR] (state, config) {\n        state.ddConfig = null;\n        state.ddConfigStatus = false;\n    },\n    [UPDATE_CODE] (state, code) {\n        state.code = code\n    },\n    [LOGIN_SUCCESS] (state, user) {\n        state.user = user\n    },\n    [LOGIN_ERROR] (state, user) {\n        state.user = false\n    },\n}\n\nexport default {\n    state,\n    mutations\n}\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/modules/app.js","\nexport const UPDATE_LOADING = 'UPDATE_LOADING'; //路由加载\n\nexport const UPDATE_DIRECTION = 'UPDATE_DIRECTION'; //更新路由跳转动画\n\nexport const DDCONFIG_SUCCESS = 'DDCONFIG_SUCCESS'; //钉钉配置成功\n\nexport const DDCONFIG_ERROR = 'DDCONFIG_ERROR'; //钉钉配置失败\n\nexport const UPDATE_CODE = 'UPDATE_CODE'; //更新免登录CODE\n\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS'; //免登录成功\n\nexport const LOGIN_ERROR = 'LOGIN_ERROR'; //免登录失败\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/mutation-types.js","'use strict'\nimport env from '../../env'\n\nconst bbPlugin = {};\nbbPlugin.install = function (Vue, option) {\n    \n    // 设置cookie\n    Vue.cookie = function (key, value, options) {\n        var days, time, result, decode;\n\n        if (arguments.length > 1 && String(value) !== \"[object Object]\") {\n            // Enforce object\n            options = $.extend({}, options)\n\n            if (value === null || value === undefined) options.expires = -1\n\n            if (typeof options.expires === 'number') {\n                days = (options.expires * 24 * 60 * 60 * 1000)\n                time = options.expires = new Date()\n\n                time.setTime(time.getTime() + days)\n            }\n\n            value = String(value)\n\n            return (document.cookie = [\n                encodeURIComponent(key), '=',\n                options.raw ? value : (value),\n                options.expires ? '; expires=' + options.expires.toUTCString() : '',\n                '; path=/',\n                options.domain ? '; domain=' + options.domain : '',\n                options.secure ? '; secure' : ''\n            ].join(''))\n        }\n\n        // Key and possibly options given, get cookie\n        options = value || {}\n\n        decode = options.raw ? function (s) { return s } : decodeURIComponent\n\n        return (result = new RegExp('(?:^|; )' + encodeURIComponent(key) + '=([^;]*)').exec(document.cookie)) ? decode(result[1]) : null\n    };\n\n    Vue.prototype.base_path = env.BASE_PATH;\n\n    // 简单封装本地存储\n    Vue.prototype.localStorage = {\n        getItem : function(key){\n            if (typeof localStorage === 'object') {\n                try {\n                    return JSON.parse(localStorage.getItem(key));\n                } catch (e) {\n                    alert('请关闭[无痕浏览]模式后再试!');\n                }\n            }\n        },\n        setItem : function(key,value){\n            if (typeof localStorage === 'object') {\n                try {\n                    return localStorage.setItem(key,JSON.stringify(value));\n                } catch (e) {\n                    alert('请关闭[无痕浏览]模式后再试!');\n                }\n            }\n        },\n        removeItem : function(key){\n            if (typeof localStorage === 'object') {\n                try {\n                    return localStorage.removeItem(key);\n                } catch (e) {\n                    alert('请关闭[无痕浏览]模式后再试!');\n                }\n            }\n        },\n        getUseSize : function(){\n            if (typeof localStorage === 'object') {\n                try {\n                    return JSON.stringify(localStorage).length;\n                } catch (e) {\n                    alert('请关闭[无痕浏览]模式后再试!');\n                }\n            }\n        }\n    };\n\n    Date.prototype.Format = function (fmt) { //author: meizz\n        var o = {\n            \"M+\": this.getMonth() + 1, //月份\n            \"d+\": this.getDate(), //日\n            \"H+\": this.getHours(), //小时\n            \"m+\": this.getMinutes(), //分\n            \"s+\": this.getSeconds(), //秒\n            \"q+\": Math.floor((this.getMonth() + 3) / 3), //季度\n            \"S\": this.getMilliseconds() //毫秒\n        };\n        if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n        for (var k in o)\n            if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\n        return fmt;\n    }\n    \n\n};\n\n(function (Plugin) {\n    if(typeof module === 'object' && typeof module.exports === 'object'){\n        module.exports = Plugin;\n    }else{\n        if(window.bb){\n            window.bb['bbPlugin'] = Plugin;\n        }else{\n            window.bb = {\n                bbPlugin:Plugin\n            }\n        }\n    }\n})(bbPlugin);\n\n\n// WEBPACK FOOTER //\n// ./src/lib/vue-bb-plugin.js","'use strict';\nimport Vue from 'vue'\nimport Tpl from './template.html'\nimport Value from './value'\nimport './style.less'\n\nimport store from '../../vuex/store'\nimport {getRequestAuthCode} from '../../vuex/actions'\n\nlet Index = Vue.extend({\n    template : Tpl,\n    store: store,\n    vuex: {\n        getters: {\n            route: (state) => state.route,\n            isLoading: (state) => state.app.isLoading,\n            direction: (state) => state.app.direction,\n            ddConfig: (state) => state.app.ddConfig,\n            ddConfigStatus: (state) => state.app.ddConfigStatus,\n            code: (state) => state.app.code,\n            userInfo: (state) => state.app.user,\n        },\n        actions: {\n            getRequestAuthCode\n        }\n    },\n    watch: {\n        ddConfigStatus: function (val, oldVal) {\n            if(val === true){\n                this.getRequestAuthCode(this.ddConfig.corpId);\n            }\n        },\n        userInfo: function (val, oldVal) {\n            if(val && val.mobile == ''){\n                this.$router.go(this.base_path+'/user/bind')\n            }\n        }\n    },\n    ready : function(){\n        console.log('APP ready 应该只执行一次');\n    },\n    data : ()=>{\n        return Value\n    },\n    methods: {\n\n    },\n    computed : {\n        showConfigErrorDialog(){\n            return this.ddConfigStatus === false;\n        },\n        showCodeErrorDialog(){\n            return this.code === false;\n        }\n    }\n})\n\nexport default Index\n\n\n// WEBPACK FOOTER //\n// ./src/page/app/index.js","module.exports = \"<div>\\n    <router-view :transition=\\\"'vux-pop-' + (direction === 'forward' ? 'in' : 'out')\\\">\\n\\n    </router-view>\\n    <alert :show=\\\"showConfigErrorDialog\\\" title=\\\"发生错误\\\">\\n        dd.config配置失败\\n    </alert>\\n    <alert :show=\\\"showCodeErrorDialog\\\" title=\\\"发生错误\\\">\\n        免登陆code获取失败\\n    </alert>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/app/template.html\n// module id = 46\n// module chunks = 1","let value = {\n    routerTransition: {\n        forward: 'slideRL',\n        back: 'slideLR'\n    }\n}\n\nexport default value;\n\n\n// WEBPACK FOOTER //\n// ./src/page/app/value.js","import * as mutations from './mutation-types'\nimport env from '../../env'\nimport axios from 'axios'\n\nexport function getRequestAuthCode({ dispatch, state }, corpId) {\n\n    callJsApi('runtime.permission.requestAuthCode',{\n        corpId : state.app.ddConfig.corpId || corpId,\n    }).then((result)=>{\n        dispatch(mutations.UPDATE_CODE,result.code)\n\n        getUserInfo({ dispatch, state },result.code)\n\n        console.log('获取到了免登陆code=>'+result.code)\n    }).catch((err)=>{\n        dispatch(mutations.UPDATE_CODE,false)\n        console.log('获取免登陆code失败')\n    });\n\n}\n\nexport function getUserInfo({dispatch, state}, code) {\n    axios.get(env.API_HOST+'/user/getUserinfo', {\n        params: {\n            code: code,\n            corpId: state.app.ddConfig.corpId,\n            suiteKey: window.getParamByName('suiteKey')\n        },\n        timeout: 5000,\n    }).then(function (response) {\n        if(response.status == 200 && response.data.code == 200){\n            let user = response.data.result;\n            dispatch(mutations.LOGIN_SUCCESS, user);\n            // dispatch(mutations.UPDATE_SYS_LEVEL, user.sys_level);\n        }else{\n            dispatch(mutations.LOGIN_ERROR,false)\n        }\n    }).catch(function (err) {\n        dispatch(mutations.LOGIN_ERROR,false)\n    });\n}\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/actions.js"],"sourceRoot":""}