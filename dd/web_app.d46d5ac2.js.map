{"version":3,"sources":["webpack:///web_app.d46d5ac2.js","webpack:///./src/main.js","webpack:///./src/lib/axiosConfig.js","webpack:///./src/vuex/store.js","webpack:///./src/vuex/modules/app.js","webpack:///./src/vuex/mutation-types.js","webpack:///./src/lib/vue-bb-plugin.js","webpack:///./src/page/app/index.js","webpack:///./src/page/app/template.html","webpack:///./src/page/app/value.js","webpack:///./src/vuex/actions.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","call","default","_interopRequireDefault","_defineProperty","value","defineProperty","enumerable","configurable","writable","getConfig","_q2","Promise","success","error","_axios2","get","params","corpid","getParamByName","appid","suitekey","paramUrl","document","URL","timeout","then","response","status","data","code","res","result","ddConfig","agentId","corpId","timeStamp","nonceStr","signature","type","jsApiList","errCode","msg","_ravenConfig","logException","Error","this","catch","err","ddIsReady","setTimeout","dd","ready","console","log","clearTimeout","biz","navigation","setLeft","show","control","showIcon","text","onSuccess","window","history","back","onFail","runtime","info","ability","parseInt","replace","initVue","_router$map","_vue2","use","_vueRouter2","_vueBbPlugin2","_vueDdPlugin2","router","transitionOnLoad","map","_env2","BASE_PATH","component","resolve","e","route","subRoutes","/","/member","redirect","*","sessionStorage","clear","historyCount","getItem","setItem","beforeEach","_ref","to","from","next","toIndex","path","fromIndex","commit","setRight","afterEach","_vuexRouterSync","sync","_store2","start","_index2","_fastclick2","attach","body","_q","_axios","_axiosConfig","_axiosConfig2","_vue","_vueRouter","_vux","vux","_store","_fastclick","_env","_vueBbPlugin","_vueDdPlugin","_ravenJs","_ravenJs2","_index","defaults","config","sentry_url","environment","release","install","dispatch","debug","devtools","Alert","Loading","Group","Cell","XInput","XButton","Flexbox","FlexboxItem","alert","JSON","stringify","finally","querySelector","remove","47","_typeof","Symbol","iterator","constructor","method","baseURL","API_HOST","transformRequest","transformResponse","parse","48","49","_vuex","_vuex2","_app","_app2","Store","modules","app","50","_mutations","_mutationTypes","state","isLoading","direction","ddConfigStatus","user","mutations","UPDATE_DIRECTION","DDCONFIG_SUCCESS","DDCONFIG_ERROR","UPDATE_CODE","LOGIN_SUCCESS","LOGIN_ERROR","51","UPDATE_LOADING","52","bbPlugin","name","reg","RegExp","r","location","search","substr","match","unescape","Vue","option","cookie","options","days","time","decode","arguments","length","String","$","extend","undefined","expires","Date","setTime","getTime","encodeURIComponent","raw","toUTCString","domain","secure","join","s","decodeURIComponent","exec","base_path","localStorage","removeItem","getUseSize","Format","fmt","o","M+","getMonth","d+","getDate","H+","getHours","m+","getMinutes","s+","getSeconds","q+","Math","floor","S","getMilliseconds","test","$1","getFullYear","k","Plugin","bb","53","_template","_template2","_value","_value2","_actions","Index","template","store","vuex","getters","userInfo","actions","getRequestAuthCode","watch","val","oldVal","mobile","$router","go","methods","computed","showConfigErrorDialog","showCodeErrorDialog","54","55","routerTransition","forward","56","57","callJsApi","getUserInfo","_ref2","suiteKey","setRavenUser"],"mappings":"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","file":"web_app.d46d5ac2.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _q = __webpack_require__(1);\n\t\n\tvar _q2 = _interopRequireDefault(_q);\n\t\n\tvar _axios = __webpack_require__(5);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tvar _axiosConfig = __webpack_require__(47);\n\t\n\tvar _axiosConfig2 = _interopRequireDefault(_axiosConfig);\n\t\n\tvar _vue = __webpack_require__(31);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vueRouter = __webpack_require__(32);\n\t\n\tvar _vueRouter2 = _interopRequireDefault(_vueRouter);\n\t\n\t__webpack_require__(48);\n\t\n\tvar _vux = __webpack_require__(35);\n\t\n\tvar vux = _interopRequireWildcard(_vux);\n\t\n\tvar _vuexRouterSync = __webpack_require__(34);\n\t\n\tvar _store = __webpack_require__(49);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\tvar _fastclick = __webpack_require__(36);\n\t\n\tvar _fastclick2 = _interopRequireDefault(_fastclick);\n\t\n\tvar _env = __webpack_require__(30);\n\t\n\tvar _env2 = _interopRequireDefault(_env);\n\t\n\tvar _vueBbPlugin = __webpack_require__(52);\n\t\n\tvar _vueBbPlugin2 = _interopRequireDefault(_vueBbPlugin);\n\t\n\tvar _vueDdPlugin = __webpack_require__(38);\n\t\n\tvar _vueDdPlugin2 = _interopRequireDefault(_vueDdPlugin);\n\t\n\tvar _ravenJs = __webpack_require__(41);\n\t\n\tvar _ravenJs2 = _interopRequireDefault(_ravenJs);\n\t\n\tvar _ravenConfig = __webpack_require__(40);\n\t\n\tvar _index = __webpack_require__(53);\n\t\n\tvar _index2 = _interopRequireDefault(_index);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\t//全局配置axios\n\tfor (var key in _axiosConfig2.default) {\n\t    _axios2.default.defaults[key] = _axiosConfig2.default[key];\n\t}\n\t\n\t//配置运行时错误收集\n\t_ravenJs2.default.config(_ravenConfig.sentry_url, {\n\t    environment: (\"dev\"),\n\t    release: '0.0.1'\n\t}).install();\n\t\n\tvar dd = window.dd;\n\tvar commit = _store2.default.commit || _store2.default.dispatch;\n\t\n\tconsole.log((\"dev\"));\n\t_vue2.default.config.debug = (\"dev\") !== 'production';\n\t_vue2.default.config.devtools = (\"dev\") !== 'production';\n\t\n\t_vue2.default.component('alert', vux.Alert);\n\t_vue2.default.component('loading', vux.Loading);\n\t_vue2.default.component('group', vux.Group);\n\t_vue2.default.component('cell', vux.Cell);\n\t_vue2.default.component('x-input', vux.XInput);\n\t_vue2.default.component('x-button', vux.XButton);\n\t_vue2.default.component('flexbox', vux.Flexbox);\n\t_vue2.default.component('flexbox-item', vux.FlexboxItem);\n\t\n\tvar ddConfig = null;\n\t\n\tgetConfig().then(function (data) {\n\t    ddConfig = data;\n\t    dd.config(ddConfig);\n\t})\n\t// .then(ddIsReady)\n\t// .then(initVue)\n\t// .then(()=>{\n\t//     document.querySelector('#init-loading').remove();\n\t//     console.log('init vue 完成')\n\t//     setTimeout(()=>{\n\t//         if(ddConfig != null){\n\t//             commit('DDCONFIG_SUCCESS', ddConfig)\n\t//         }else{\n\t//             commit('DDCONFIG_ERROR', false);\n\t//         }\n\t//     },300)\n\t// })\n\t.catch(function (err) {\n\t    alert(JSON.stringify(err));\n\t}).finally(function () {\n\t    //开发环境\n\t    ddIsReady().then(initVue).then(function () {\n\t        document.querySelector('#init-loading').remove();\n\t        console.log('init vue 完成');\n\t        setTimeout(function () {\n\t            if (ddConfig != null) {\n\t                commit('DDCONFIG_SUCCESS', ddConfig);\n\t            } else {\n\t                commit('DDCONFIG_ERROR', false);\n\t            }\n\t        }, 300);\n\t    });\n\t});\n\t\n\tvar params = {\n\t    corpid: getParamByName('corpid') || 'ding1b56d2f4ba72e91635c2f4657eb6378f',\n\t    appid: getParamByName('appid') || '2545',\n\t    suitekey: getParamByName('suiteKey') || 'suiteiyfdj0dfixywzqwg',\n\t    paramUrl: document.URL\n\t};\n\t\n\tfunction getConfig() {\n\t    return _q2.default.Promise(function (success, error) {\n\t        _axios2.default.get('/auth/getConfig', {\n\t            params: {\n\t                corpid: getParamByName('corpid') || 'ding1b56d2f4ba72e91635c2f4657eb6378f',\n\t                appid: getParamByName('appid') || '2545',\n\t                suitekey: getParamByName('suiteKey') || 'suiteiyfdj0dfixywzqwg',\n\t                paramUrl: document.URL\n\t            },\n\t            timeout: 2000\n\t        }).then(function (response) {\n\t            if (response.status == 200 && response.data.code == 200) {\n\t                var res = response.data.result;\n\t                var _ddConfig = {\n\t                    agentId: res.agentId, // 必填，微应用ID\n\t                    corpId: res.corpId, //必填，企业ID\n\t                    timeStamp: res.timeStamp, // 必填，生成签名的时间戳\n\t                    nonceStr: res.nonceStr, // 必填，生成签名的随机串\n\t                    signature: res.signature, // 必填，签名\n\t                    type: 0, //选填。0表示微应用的jsapi,1表示服务窗的jsapi。不填默认为0。该参数从dingtalk.js的0.8.3版本开始支持\n\t                    jsApiList: ['runtime.info', 'runtime.permission.requestAuthCode', 'runtime.permission.requestOperateAuthCode', //反馈式操作临时授权码\n\t\n\t                    'biz.alipay.pay', 'biz.contact.choose', 'biz.contact.complexChoose', 'biz.contact.complexPicker', 'biz.contact.createGroup', 'biz.customContact.choose', 'biz.customContact.multipleChoose', 'biz.ding.post', 'biz.map.locate', 'biz.map.view', 'biz.util.openLink', 'biz.util.open', 'biz.util.share', 'biz.util.ut', 'biz.util.uploadImage', 'biz.util.previewImage', 'biz.util.datepicker', 'biz.util.timepicker', 'biz.util.datetimepicker', 'biz.util.chosen', 'biz.util.encrypt', 'biz.util.decrypt', 'biz.chat.pickConversation', 'biz.telephone.call', 'biz.navigation.setLeft', 'biz.navigation.setTitle', 'biz.navigation.setIcon', 'biz.navigation.close', 'biz.navigation.setRight', 'biz.navigation.setMenu', 'biz.user.get', 'ui.progressBar.setColors', 'device.base.getInterface', 'device.connection.getNetworkType', 'device.launcher.checkInstalledApps', 'device.launcher.launchApp', 'device.notification.confirm', 'device.notification.alert', 'device.notification.prompt', 'device.notification.showPreloader', 'device.notification.hidePreloader', 'device.notification.toast', 'device.notification.actionSheet', 'device.notification.modal', 'device.geolocation.get'] // 必填，需要使用的jsapi列表，注意：不要带dd。\n\t                };\n\t                success(_ddConfig);\n\t            } else {\n\t                error({ errCode: -2, msg: '接口请求失败' });\n\t                (0, _ravenConfig.logException)(new Error('config接口请求失败'), this);\n\t            }\n\t        }).catch(function (err) {\n\t            error({ errCode: -2, msg: '接口请求失败' });\n\t            (0, _ravenConfig.logException)(new Error('config接口请求失败'), err);\n\t        });\n\t    });\n\t}\n\t\n\tfunction ddIsReady() {\n\t    return _q2.default.Promise(function (success, error) {\n\t        var timeout = setTimeout(function () {\n\t            error({ errCode: -1, msg: 'dd.ready初始化超时' });\n\t            (0, _ravenConfig.logException)(new Error('dd.ready初始化超时'), params);\n\t        }, 2000);\n\t        dd.ready(function () {\n\t            console.log('初始化钉钉');\n\t            clearTimeout(timeout);\n\t\n\t            //设置返回按钮\n\t            dd.biz.navigation.setLeft({\n\t                show: true, //控制按钮显示， true 显示， false 隐藏， 默认true\n\t                control: true, //是否控制点击事件，true 控制，false 不控制， 默认false\n\t                showIcon: true, //是否显示icon，true 显示， false 不显示，默认true； 注：具体UI以客户端为准\n\t                text: '返回', //控制显示文本，空字符串表示显示默认文本\n\t                onSuccess: function onSuccess(result) {\n\t                    //如果control为true，则onSuccess将在发生按钮点击事件被回调\n\t                    console.log('点击了返回按钮');\n\t                    window.history.back();\n\t                },\n\t                onFail: function onFail(err) {}\n\t            });\n\t            //获取容器信息\n\t            dd.runtime.info({\n\t                onSuccess: function onSuccess(result) {\n\t                    window.ability = parseInt(result.ability.replace(/\\./g, ''));\n\t                    console.log('容器版本为' + window.ability);\n\t                },\n\t                onFail: function onFail(err) {}\n\t            });\n\t\n\t            success(true);\n\t        });\n\t        dd.error(function (err) {\n\t            clearTimeout(timeout);\n\t            error({ errCode: -1, msg: 'dd.error配置信息不对' });\n\t            (0, _ravenConfig.logException)(new Error('dd.error配置信息不对'), err);\n\t        });\n\t    });\n\t}\n\t\n\tfunction initVue() {\n\t    return _q2.default.Promise(function (success, error) {\n\t        var _router$map;\n\t\n\t        _vue2.default.use(_vueRouter2.default);\n\t        _vue2.default.use(_vueBbPlugin2.default);\n\t        _vue2.default.use(_vueDdPlugin2.default);\n\t\n\t        var router = new _vueRouter2.default({\n\t            transitionOnLoad: false\n\t        });\n\t        router.map((_router$map = {}, _defineProperty(_router$map, _env2.default.BASE_PATH, {\n\t            component: function component(resolve) {\n\t                __webpack_require__.e/* nsure */(2, function () {\n\t                    var route = __webpack_require__(58).default;\n\t                    resolve(route);\n\t                });\n\t            },\n\t            subRoutes: {\n\t                '/': {\n\t                    component: function component(resolve) {\n\t                        __webpack_require__.e/* nsure */(3, function () {\n\t                            var route = __webpack_require__(64).default;\n\t                            resolve(route);\n\t                        });\n\t                    }\n\t                },\n\t                '/member': {\n\t                    component: function component(resolve) {\n\t                        __webpack_require__.e/* nsure */(4, function () {\n\t                            var route = __webpack_require__(74).default;\n\t                            resolve(route);\n\t                        });\n\t                    }\n\t                }\n\t            }\n\t        }), _defineProperty(_router$map, _env2.default.BASE_PATH + '/user/sign_in', {\n\t            component: function component(resolve) {\n\t                __webpack_require__.e/* nsure */(5, function () {\n\t                    var route = __webpack_require__(82).default;\n\t                    resolve(route);\n\t                });\n\t            }\n\t        }), _defineProperty(_router$map, _env2.default.BASE_PATH + '/user/bind', {\n\t            component: function component(resolve) {\n\t                __webpack_require__.e/* nsure */(6, function () {\n\t                    var route = __webpack_require__(86).default;\n\t                    resolve(route);\n\t                });\n\t            }\n\t        }), _router$map));\n\t        router.redirect({\n\t            '*': _env2.default.BASE_PATH\n\t        });\n\t        var history = window.sessionStorage;\n\t        history.clear();\n\t        var historyCount = history.getItem('count') * 1 || 0;\n\t        history.setItem('/', 0);\n\t\n\t        router.beforeEach(function (_ref) {\n\t            var to = _ref.to,\n\t                from = _ref.from,\n\t                next = _ref.next;\n\t\n\t            var toIndex = history.getItem(to.path);\n\t            var fromIndex = history.getItem(from.path);\n\t            if (toIndex) {\n\t                if (toIndex > fromIndex || !fromIndex) {\n\t                    commit('UPDATE_DIRECTION', 'forward');\n\t                } else {\n\t                    commit('UPDATE_DIRECTION', 'reverse');\n\t                }\n\t            } else {\n\t                ++historyCount;\n\t                history.setItem('count', historyCount);\n\t                to.path !== '/' && history.setItem(to.path, historyCount);\n\t                commit('UPDATE_DIRECTION', 'forward');\n\t            }\n\t            commit('UPDATE_LOADING', true);\n\t\n\t            setTimeout(function () {\n\t                try {\n\t                    //设置右侧按钮\n\t                    dd.biz.navigation.setRight({\n\t                        show: false });\n\t                } catch (err) {\n\t                    console.error(err);\n\t                }\n\t\n\t                next();\n\t            }, 10);\n\t        });\n\t        router.afterEach(function () {\n\t            commit('UPDATE_LOADING', false);\n\t        });\n\t        (0, _vuexRouterSync.sync)(_store2.default, router);\n\t        router.start(_index2.default, '#app');\n\t\n\t        _fastclick2.default.attach(document.body);\n\t\n\t        success();\n\t    });\n\t}\n\n/***/ },\n\n/***/ 47:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _ravenConfig = __webpack_require__(40);\n\t\n\tvar _env = __webpack_require__(30);\n\t\n\tvar _env2 = _interopRequireDefault(_env);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar config = {\n\t\n\t    // 请求方法同上\n\t    method: 'get', // default\n\t    // 基础url前缀\n\t    baseURL: _env2.default.API_HOST,\n\t\n\t    transformRequest: [function (data) {\n\t        // 这里可以在发送请求之前对请求数据做处理，比如form-data格式化等，这里可以使用开头引入的Qs（这个模块在安装axios的时候就已经安装了，不需要另外安装）\n\t\n\t        return data;\n\t    }],\n\t\n\t    transformResponse: [function (response) {\n\t        // 这里提前处理返回的数据\n\t        var res = null;\n\t        try {\n\t            res = JSON.parse(response);\n\t        } catch (err) {\n\t            (0, _ravenConfig.logException)(new Error('接口返回不是一个对象'), res);\n\t        }\n\t        if ((typeof res === 'undefined' ? 'undefined' : _typeof(res)) == 'object') {\n\t            switch (res.status) {\n\t                case 200:\n\t\n\t                    break;\n\t\n\t                default:\n\t                    (0, _ravenConfig.logException)(new Error(res.status + ' 错误'), res);\n\t                    break;\n\t            }\n\t        }\n\t\n\t        return response;\n\t    }],\n\t\n\t    // 请求头信息\n\t    // headers: {'X-Requested-With': 'XMLHttpRequest'},\n\t\n\t    //parameter参数\n\t    // params: {\n\t    //     ID: 12345\n\t    // },\n\t\n\t    //post参数，使用axios.post(url,{},config);如果没有额外的也必须要用一个空对象，否则会报错\n\t    data: {},\n\t\n\t    //设置超时时间\n\t    timeout: 5000\n\t};\n\t\n\texports.default = config;\n\n/***/ },\n\n/***/ 48:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 49:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(31);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vuex = __webpack_require__(33);\n\t\n\tvar _vuex2 = _interopRequireDefault(_vuex);\n\t\n\tvar _app = __webpack_require__(50);\n\t\n\tvar _app2 = _interopRequireDefault(_app);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vuex2.default);\n\t\n\texports.default = new _vuex2.default.Store({\n\t    modules: {\n\t        app: _app2.default\n\t    }\n\t});\n\n/***/ },\n\n/***/ 50:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _mutations;\n\t\n\tvar _mutationTypes = __webpack_require__(51);\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar state = {\n\t    isLoading: false, //路由加载标志位\n\t    direction: 'forward', //路由动画变量\n\t\n\t    ddConfig: null,\n\t    ddConfigStatus: null,\n\t    code: null,\n\t\n\t    user: null\n\t};\n\t\n\tvar mutations = (_mutations = {}, _defineProperty(_mutations, _mutationTypes.UPDATE_LOADING, function (state, status) {\n\t    state.isLoading = status;\n\t}), _defineProperty(_mutations, _mutationTypes.UPDATE_DIRECTION, function (state, direction) {\n\t    state.direction = direction;\n\t}), _defineProperty(_mutations, _mutationTypes.DDCONFIG_SUCCESS, function (state, config) {\n\t    state.ddConfig = config;\n\t    state.ddConfigStatus = true;\n\t}), _defineProperty(_mutations, _mutationTypes.DDCONFIG_ERROR, function (state, config) {\n\t    state.ddConfig = null;\n\t    state.ddConfigStatus = false;\n\t}), _defineProperty(_mutations, _mutationTypes.UPDATE_CODE, function (state, code) {\n\t    state.code = code;\n\t}), _defineProperty(_mutations, _mutationTypes.LOGIN_SUCCESS, function (state, user) {\n\t    state.user = user;\n\t}), _defineProperty(_mutations, _mutationTypes.LOGIN_ERROR, function (state, user) {\n\t    state.user = false;\n\t}), _mutations);\n\t\n\texports.default = {\n\t    state: state,\n\t    mutations: mutations\n\t};\n\n/***/ },\n\n/***/ 51:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar UPDATE_LOADING = exports.UPDATE_LOADING = 'UPDATE_LOADING'; //路由加载\n\t\n\tvar UPDATE_DIRECTION = exports.UPDATE_DIRECTION = 'UPDATE_DIRECTION'; //更新路由跳转动画\n\t\n\tvar DDCONFIG_SUCCESS = exports.DDCONFIG_SUCCESS = 'DDCONFIG_SUCCESS'; //钉钉配置成功\n\t\n\tvar DDCONFIG_ERROR = exports.DDCONFIG_ERROR = 'DDCONFIG_ERROR'; //钉钉配置失败\n\t\n\tvar UPDATE_CODE = exports.UPDATE_CODE = 'UPDATE_CODE'; //更新免登录CODE\n\t\n\tvar LOGIN_SUCCESS = exports.LOGIN_SUCCESS = 'LOGIN_SUCCESS'; //免登录成功\n\t\n\tvar LOGIN_ERROR = exports.LOGIN_ERROR = 'LOGIN_ERROR'; //免登录失败\n\n/***/ },\n\n/***/ 52:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(module) {'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _env = __webpack_require__(30);\n\t\n\tvar _env2 = _interopRequireDefault(_env);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar bbPlugin = {};\n\t\n\twindow.getParamByName = function (name) {\n\t    var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\n\t    var r = window.location.search.substr(1).match(reg);\n\t    if (r != null) return unescape(r[2]);return null;\n\t};\n\t\n\tbbPlugin.install = function (Vue, option) {\n\t\n\t    // 设置cookie\n\t    Vue.cookie = function (key, value, options) {\n\t        var days, time, result, decode;\n\t\n\t        if (arguments.length > 1 && String(value) !== \"[object Object]\") {\n\t            // Enforce object\n\t            options = $.extend({}, options);\n\t\n\t            if (value === null || value === undefined) options.expires = -1;\n\t\n\t            if (typeof options.expires === 'number') {\n\t                days = options.expires * 24 * 60 * 60 * 1000;\n\t                time = options.expires = new Date();\n\t\n\t                time.setTime(time.getTime() + days);\n\t            }\n\t\n\t            value = String(value);\n\t\n\t            return document.cookie = [encodeURIComponent(key), '=', options.raw ? value : value, options.expires ? '; expires=' + options.expires.toUTCString() : '', '; path=/', options.domain ? '; domain=' + options.domain : '', options.secure ? '; secure' : ''].join('');\n\t        }\n\t\n\t        // Key and possibly options given, get cookie\n\t        options = value || {};\n\t\n\t        decode = options.raw ? function (s) {\n\t            return s;\n\t        } : decodeURIComponent;\n\t\n\t        return (result = new RegExp('(?:^|; )' + encodeURIComponent(key) + '=([^;]*)').exec(document.cookie)) ? decode(result[1]) : null;\n\t    };\n\t\n\t    Vue.prototype.base_path = _env2.default.BASE_PATH;\n\t\n\t    // 简单封装本地存储\n\t    Vue.prototype.localStorage = {\n\t        getItem: function getItem(key) {\n\t            if ((typeof localStorage === 'undefined' ? 'undefined' : _typeof(localStorage)) === 'object') {\n\t                try {\n\t                    return JSON.parse(localStorage.getItem(key));\n\t                } catch (e) {\n\t                    alert('请关闭[无痕浏览]模式后再试!');\n\t                }\n\t            }\n\t        },\n\t        setItem: function setItem(key, value) {\n\t            if ((typeof localStorage === 'undefined' ? 'undefined' : _typeof(localStorage)) === 'object') {\n\t                try {\n\t                    return localStorage.setItem(key, JSON.stringify(value));\n\t                } catch (e) {\n\t                    alert('请关闭[无痕浏览]模式后再试!');\n\t                }\n\t            }\n\t        },\n\t        removeItem: function removeItem(key) {\n\t            if ((typeof localStorage === 'undefined' ? 'undefined' : _typeof(localStorage)) === 'object') {\n\t                try {\n\t                    return localStorage.removeItem(key);\n\t                } catch (e) {\n\t                    alert('请关闭[无痕浏览]模式后再试!');\n\t                }\n\t            }\n\t        },\n\t        getUseSize: function getUseSize() {\n\t            if ((typeof localStorage === 'undefined' ? 'undefined' : _typeof(localStorage)) === 'object') {\n\t                try {\n\t                    return JSON.stringify(localStorage).length;\n\t                } catch (e) {\n\t                    alert('请关闭[无痕浏览]模式后再试!');\n\t                }\n\t            }\n\t        }\n\t    };\n\t\n\t    Date.prototype.Format = function (fmt) {\n\t        //author: meizz\n\t        var o = {\n\t            \"M+\": this.getMonth() + 1, //月份\n\t            \"d+\": this.getDate(), //日\n\t            \"H+\": this.getHours(), //小时\n\t            \"m+\": this.getMinutes(), //分\n\t            \"s+\": this.getSeconds(), //秒\n\t            \"q+\": Math.floor((this.getMonth() + 3) / 3), //季度\n\t            \"S\": this.getMilliseconds() //毫秒\n\t        };\n\t        if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n\t        for (var k in o) {\n\t            if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length));\n\t        }return fmt;\n\t    };\n\t};\n\t\n\t(function (Plugin) {\n\t    if (( false ? 'undefined' : _typeof(module)) === 'object' && _typeof(module.exports) === 'object') {\n\t        module.exports = Plugin;\n\t    } else {\n\t        if (window.bb) {\n\t            window.bb['bbPlugin'] = Plugin;\n\t        } else {\n\t            window.bb = {\n\t                bbPlugin: Plugin\n\t            };\n\t        }\n\t    }\n\t})(bbPlugin);\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(39)(module)))\n\n/***/ },\n\n/***/ 53:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(31);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _template = __webpack_require__(54);\n\t\n\tvar _template2 = _interopRequireDefault(_template);\n\t\n\tvar _value = __webpack_require__(55);\n\t\n\tvar _value2 = _interopRequireDefault(_value);\n\t\n\t__webpack_require__(56);\n\t\n\tvar _store = __webpack_require__(49);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\tvar _actions = __webpack_require__(57);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Index = _vue2.default.extend({\n\t    template: _template2.default,\n\t    store: _store2.default,\n\t    vuex: {\n\t        getters: {\n\t            route: function route(state) {\n\t                return state.route;\n\t            },\n\t            isLoading: function isLoading(state) {\n\t                return state.app.isLoading;\n\t            },\n\t            direction: function direction(state) {\n\t                return state.app.direction;\n\t            },\n\t            ddConfig: function ddConfig(state) {\n\t                return state.app.ddConfig;\n\t            },\n\t            ddConfigStatus: function ddConfigStatus(state) {\n\t                return state.app.ddConfigStatus;\n\t            },\n\t            code: function code(state) {\n\t                return state.app.code;\n\t            },\n\t            userInfo: function userInfo(state) {\n\t                return state.app.user;\n\t            }\n\t        },\n\t        actions: {\n\t            getRequestAuthCode: _actions.getRequestAuthCode\n\t        }\n\t    },\n\t    watch: {\n\t        ddConfigStatus: function ddConfigStatus(val, oldVal) {\n\t            if (val === true) {\n\t                this.getRequestAuthCode(this.ddConfig.corpId);\n\t            }\n\t        },\n\t        userInfo: function userInfo(val, oldVal) {\n\t            if (val && val.mobile == '') {\n\t                this.$router.go(this.base_path + '/user/bind');\n\t            }\n\t        }\n\t    },\n\t    ready: function ready() {\n\t        console.log('APP ready 应该只执行一次');\n\t    },\n\t    data: function data() {\n\t        return _value2.default;\n\t    },\n\t    methods: {},\n\t    computed: {\n\t        showConfigErrorDialog: function showConfigErrorDialog() {\n\t            return this.ddConfigStatus === false;\n\t        },\n\t        showCodeErrorDialog: function showCodeErrorDialog() {\n\t            return this.code === false;\n\t        }\n\t    }\n\t});\n\t\n\texports.default = Index;\n\n/***/ },\n\n/***/ 54:\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div>\\n    <router-view :transition=\\\"'vux-pop-' + (direction === 'forward' ? 'in' : 'out')\\\">\\n\\n    </router-view>\\n    <alert :show=\\\"showConfigErrorDialog\\\" title=\\\"发生错误\\\">\\n        dd.config配置失败\\n    </alert>\\n    <alert :show=\\\"showCodeErrorDialog\\\" title=\\\"发生错误\\\">\\n        免登陆code获取失败\\n    </alert>\\n</div>\"\n\n/***/ },\n\n/***/ 55:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar value = {\n\t    routerTransition: {\n\t        forward: 'slideRL',\n\t        back: 'slideLR'\n\t    }\n\t};\n\t\n\texports.default = value;\n\n/***/ },\n\n/***/ 56:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 57:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.getRequestAuthCode = getRequestAuthCode;\n\texports.getUserInfo = getUserInfo;\n\t\n\tvar _mutationTypes = __webpack_require__(51);\n\t\n\tvar mutations = _interopRequireWildcard(_mutationTypes);\n\t\n\tvar _env = __webpack_require__(30);\n\t\n\tvar _env2 = _interopRequireDefault(_env);\n\t\n\tvar _axios = __webpack_require__(5);\n\t\n\tvar _axios2 = _interopRequireDefault(_axios);\n\t\n\tvar _ravenConfig = __webpack_require__(40);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction getRequestAuthCode(_ref, corpId) {\n\t    var dispatch = _ref.dispatch,\n\t        state = _ref.state;\n\t\n\t\n\t    callJsApi('runtime.permission.requestAuthCode', {\n\t        corpId: state.app.ddConfig.corpId || corpId\n\t    }).then(function (result) {\n\t        dispatch(mutations.UPDATE_CODE, result.code);\n\t\n\t        getUserInfo({ dispatch: dispatch, state: state }, result.code);\n\t\n\t        console.log('获取到了免登陆code=>' + result.code);\n\t    }).catch(function (err) {\n\t        dispatch(mutations.UPDATE_CODE, false);\n\t        (0, _ravenConfig.logException)(new Error('获取免登陆code失败'), err);\n\t    });\n\t}\n\t\n\tfunction getUserInfo(_ref2, code) {\n\t    var dispatch = _ref2.dispatch,\n\t        state = _ref2.state;\n\t\n\t    _axios2.default.get('/user/getUserinfo', {\n\t        params: {\n\t            code: code,\n\t            corpId: state.app.ddConfig.corpId,\n\t            suiteKey: window.getParamByName('suiteKey')\n\t        },\n\t        timeout: 5000\n\t    }).then(function (response) {\n\t        if (response.status == 200 && response.data.code == 200) {\n\t            var user = response.data.result;\n\t            dispatch(mutations.LOGIN_SUCCESS, user);\n\t            // dispatch(mutations.UPDATE_SYS_LEVEL, user.sys_level);\n\t            (0, _ravenConfig.setRavenUser)(user);\n\t        } else {\n\t            dispatch(mutations.LOGIN_ERROR, false);\n\t            (0, _ravenConfig.logException)(new Error('获取用户信息'), this);\n\t        }\n\t    }).catch(function (err) {\n\t        dispatch(mutations.LOGIN_ERROR, false);\n\t        (0, _ravenConfig.logException)(new Error('获取用户信息'), err);\n\t    });\n\t}\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// web_app.d46d5ac2.js","import Q from 'q'\nimport axios from 'axios'\nimport axiosConfig from './lib/axiosConfig'\nimport Vue from 'vue'\nimport Router from 'vue-router'\nimport 'vux/dist/vux.css'\nimport * as vux from 'vux'\nimport { sync } from 'vuex-router-sync'\nimport store from './vuex/store'\nimport FastClick from 'fastclick'\nimport env from '../env'\nimport bbPlugin from './lib/vue-bb-plugin'\nimport ddPlugin from './lib/vue-dd-plugin'\nimport Raven from 'raven-js'\nimport { sentry_url, logException, setRavenUser } from './lib/ravenConfig'\nimport App from './page/app/index'\n\n//全局配置axios\nfor(let key in axiosConfig){\n    axios.defaults[key] = axiosConfig[key];\n}\n\n//配置运行时错误收集\nRaven.config(sentry_url, {\n    environment: process.env.NODE_ENV,\n    release: '0.0.1',\n}).install();\n\nlet dd = window.dd;\nconst commit = store.commit || store.dispatch;\n\nconsole.log(process.env.NODE_ENV)\nVue.config.debug = process.env.NODE_ENV !== 'production';\nVue.config.devtools = process.env.NODE_ENV !== 'production';\n\nVue.component('alert',vux.Alert)\nVue.component('loading',vux.Loading)\nVue.component('group',vux.Group)\nVue.component('cell',vux.Cell)\nVue.component('x-input',vux.XInput)\nVue.component('x-button',vux.XButton)\nVue.component('flexbox',vux.Flexbox)\nVue.component('flexbox-item',vux.FlexboxItem)\n\nlet ddConfig = null;\n\ngetConfig()\n    .then((data)=>{\n        ddConfig = data;\n        dd.config(ddConfig);\n    })\n    // .then(ddIsReady)\n    // .then(initVue)\n    // .then(()=>{\n    //     document.querySelector('#init-loading').remove();\n    //     console.log('init vue 完成')\n    //     setTimeout(()=>{\n    //         if(ddConfig != null){\n    //             commit('DDCONFIG_SUCCESS', ddConfig)\n    //         }else{\n    //             commit('DDCONFIG_ERROR', false);\n    //         }\n    //     },300)\n    // })\n    .catch((err)=>{\n        alert(JSON.stringify(err));\n    })\n    .finally(()=>{\n        //开发环境\n        ddIsReady()\n            .then(initVue)\n            .then(()=>{\n                document.querySelector('#init-loading').remove();\n                console.log('init vue 完成')\n                setTimeout(()=>{\n                    if(ddConfig != null){\n                        commit('DDCONFIG_SUCCESS', ddConfig)\n                    }else{\n                        commit('DDCONFIG_ERROR', false);\n                    }\n                },300)\n            })\n    })\n\nlet params = {\n    corpid: getParamByName('corpid')||'ding1b56d2f4ba72e91635c2f4657eb6378f',\n    appid: getParamByName('appid')||'2545',\n    suitekey: getParamByName('suiteKey')||'suiteiyfdj0dfixywzqwg',\n    paramUrl: document.URL\n}\n\nfunction getConfig() {\n    return Q.Promise((success, error)=>{\n        axios.get('/auth/getConfig', {\n            params: {\n                corpid: getParamByName('corpid')||'ding1b56d2f4ba72e91635c2f4657eb6378f',\n                appid: getParamByName('appid')||'2545',\n                suitekey: getParamByName('suiteKey')||'suiteiyfdj0dfixywzqwg',\n                paramUrl: document.URL\n            },\n            timeout: 2000,\n        }).then(function (response) {\n            if(response.status == 200 && response.data.code == 200){\n                let res = response.data.result;\n                let ddConfig = {\n                    agentId: res.agentId, // 必填，微应用ID\n                    corpId: res.corpId,//必填，企业ID\n                    timeStamp: res.timeStamp, // 必填，生成签名的时间戳\n                    nonceStr: res.nonceStr, // 必填，生成签名的随机串\n                    signature: res.signature, // 必填，签名\n                    type:0,   //选填。0表示微应用的jsapi,1表示服务窗的jsapi。不填默认为0。该参数从dingtalk.js的0.8.3版本开始支持\n                    jsApiList : [\n                        'runtime.info',\n                        'runtime.permission.requestAuthCode',\n                        'runtime.permission.requestOperateAuthCode', //反馈式操作临时授权码\n\n                        'biz.alipay.pay',\n                        'biz.contact.choose',\n                        'biz.contact.complexChoose',\n                        'biz.contact.complexPicker',\n                        'biz.contact.createGroup',\n                        'biz.customContact.choose',\n                        'biz.customContact.multipleChoose',\n                        'biz.ding.post',\n                        'biz.map.locate',\n                        'biz.map.view',\n                        'biz.util.openLink',\n                        'biz.util.open',\n                        'biz.util.share',\n                        'biz.util.ut',\n                        'biz.util.uploadImage',\n                        'biz.util.previewImage',\n                        'biz.util.datepicker',\n                        'biz.util.timepicker',\n                        'biz.util.datetimepicker',\n                        'biz.util.chosen',\n                        'biz.util.encrypt',\n                        'biz.util.decrypt',\n                        'biz.chat.pickConversation',\n                        'biz.telephone.call',\n                        'biz.navigation.setLeft',\n                        'biz.navigation.setTitle',\n                        'biz.navigation.setIcon',\n                        'biz.navigation.close',\n                        'biz.navigation.setRight',\n                        'biz.navigation.setMenu',\n                        'biz.user.get',\n\n                        'ui.progressBar.setColors',\n\n                        'device.base.getInterface',\n                        'device.connection.getNetworkType',\n                        'device.launcher.checkInstalledApps',\n                        'device.launcher.launchApp',\n                        'device.notification.confirm',\n                        'device.notification.alert',\n                        'device.notification.prompt',\n                        'device.notification.showPreloader',\n                        'device.notification.hidePreloader',\n                        'device.notification.toast',\n                        'device.notification.actionSheet',\n                        'device.notification.modal',\n                        'device.geolocation.get',\n\n\n                    ] // 必填，需要使用的jsapi列表，注意：不要带dd。\n                }\n                success(ddConfig)\n            }else{\n                error({errCode:-2,msg:'接口请求失败'})\n                logException(new Error('config接口请求失败'), this)\n            }\n        }).catch(function (err) {\n            error({errCode:-2,msg:'接口请求失败'})\n            logException(new Error('config接口请求失败'), err)\n        });\n    })\n\n}\n\nfunction ddIsReady() {\n    return Q.Promise((success, error)=>{\n        let timeout = setTimeout(()=>{\n            error({errCode:-1,msg:'dd.ready初始化超时'});\n            logException(new Error('dd.ready初始化超时'), params)\n        },2000)\n        dd.ready(function(){\n            console.log('初始化钉钉');\n            clearTimeout(timeout)\n\n            //设置返回按钮\n            dd.biz.navigation.setLeft({\n                show: true,//控制按钮显示， true 显示， false 隐藏， 默认true\n                control: true,//是否控制点击事件，true 控制，false 不控制， 默认false\n                showIcon: true,//是否显示icon，true 显示， false 不显示，默认true； 注：具体UI以客户端为准\n                text: '返回',//控制显示文本，空字符串表示显示默认文本\n                onSuccess : function(result) {\n                    //如果control为true，则onSuccess将在发生按钮点击事件被回调\n                    console.log('点击了返回按钮');\n                    window.history.back();\n                },\n                onFail : function(err) {}\n            });\n            //获取容器信息\n            dd.runtime.info({\n                onSuccess: function(result) {\n                    window.ability = parseInt(result.ability.replace(/\\./g,''));\n                    console.log('容器版本为'+window.ability)\n                },\n                onFail : function(err) {}\n            })\n\n            success(true)\n        });\n        dd.error(function(err){\n            clearTimeout(timeout)\n            error({errCode:-1,msg:'dd.error配置信息不对'})\n            logException(new Error('dd.error配置信息不对'),err)\n        });\n    })\n}\n\nfunction initVue() {\n    return Q.Promise((success, error)=>{\n\n        Vue.use(Router)\n        Vue.use(bbPlugin)\n        Vue.use(ddPlugin)\n\n        let router = new Router({\n            transitionOnLoad: false\n        })\n        router.map({\n            [env.BASE_PATH] : {\n                component: function(resolve){\n                    require.ensure([], function() {\n                        let route = require('./page/home/route').default;\n                        resolve(route);\n                    },'home')\n                },\n                subRoutes: {\n                    '/': {\n                        component: function (resolve) {\n                            require.ensure([], function () {\n                                let route = require('./page/home/index/route').default;\n                                resolve(route);\n                            },'index')\n                        }\n                    },\n                    '/member' : {\n                        component: function(resolve){\n                            require.ensure([], function() {\n                                let route = require('./page/home/member/route').default;\n                                resolve(route);\n                            },'member')\n                        }\n                    },\n                    // '/banbu' : {\n                    //     component: function(resolve){\n                    //         require.ensure([], function() {\n                    //             let route = require('./states/index/wenda/route').default;\n                    //             resolve(route);\n                    //         },'wenda')\n                    //     }\n                    // },\n                }\n            },\n            [env.BASE_PATH+'/user/sign_in'] : {\n                component: function (resolve) {\n                    require.ensure([], function () {\n                        let route = require('./page/user-sign-in/route').default;\n                        resolve(route);\n                    }, 'user-sign-in')\n                }\n            },\n            [env.BASE_PATH+'/user/bind'] : {\n                component: function (resolve) {\n                    require.ensure([], function () {\n                        let route = require('./page/user-bind-mobile/route').default;\n                        resolve(route);\n                    }, 'user-bind-mobile')\n                }\n            }\n        });\n        router.redirect({\n            '*': env.BASE_PATH\n        });\n        let history = window.sessionStorage\n        history.clear()\n        let historyCount = history.getItem('count') * 1 || 0\n        history.setItem('/', 0)\n\n        router.beforeEach(({ to, from, next }) => {\n            const toIndex = history.getItem(to.path)\n            const fromIndex = history.getItem(from.path)\n            if (toIndex) {\n                if (toIndex > fromIndex || !fromIndex) {\n                    commit('UPDATE_DIRECTION', 'forward')\n                } else {\n                    commit('UPDATE_DIRECTION', 'reverse')\n                }\n            } else {\n                ++historyCount\n                history.setItem('count', historyCount)\n                to.path !== '/' && history.setItem(to.path, historyCount)\n                commit('UPDATE_DIRECTION', 'forward')\n            }\n            commit('UPDATE_LOADING', true)\n\n\n            setTimeout(()=>{\n                try {\n                    //设置右侧按钮\n                    dd.biz.navigation.setRight({\n                        show: false,//控制按钮显示， true 显示， false 隐藏， 默认true\n                    });\n                }catch (err){\n                    console.error(err);\n                }\n\n                next();\n            }, 10)\n        })\n        router.afterEach(() => {\n            commit('UPDATE_LOADING', false)\n        })\n        sync(store, router)\n        router.start(App, '#app')\n\n        FastClick.attach(document.body)\n\n        success()\n    })\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import { logException } from './ravenConfig'\nimport env from '../../env'\n\nconst config = {\n\n    // 请求方法同上\n    method: 'get', // default\n    // 基础url前缀\n    baseURL: env.API_HOST,\n\n\n    transformRequest: [function (data) {\n        // 这里可以在发送请求之前对请求数据做处理，比如form-data格式化等，这里可以使用开头引入的Qs（这个模块在安装axios的时候就已经安装了，不需要另外安装）\n\n        return data;\n    }],\n\n    transformResponse: [function (response) {\n        // 这里提前处理返回的数据\n        let res = null;\n        try {\n            res = JSON.parse(response)\n        }catch (err){\n            logException(new Error('接口返回不是一个对象'), res)\n        }\n        if(typeof res == 'object'){\n            switch(res.status){\n                case 200:\n\n                    break;\n\n                default:\n                    logException(new Error(res.status+' 错误'), res)\n                    break;\n            }\n        }\n\n        return response;\n    }],\n\n    // 请求头信息\n    // headers: {'X-Requested-With': 'XMLHttpRequest'},\n\n    //parameter参数\n    // params: {\n    //     ID: 12345\n    // },\n\n    //post参数，使用axios.post(url,{},config);如果没有额外的也必须要用一个空对象，否则会报错\n    data: {\n\n    },\n\n    //设置超时时间\n    timeout: 5000,\n    //返回数据类型\n    // responseType: 'json', // default\n\n}\n\nexport default config;\n\n\n// WEBPACK FOOTER //\n// ./src/lib/axiosConfig.js","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport app from './modules/app'\n\nVue.use(Vuex)\n\n\nexport default new Vuex.Store({\n    modules: {\n        app\n    }\n})\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/store.js","import {\n    UPDATE_LOADING,\n    UPDATE_DIRECTION,\n    DDCONFIG_SUCCESS,\n    DDCONFIG_ERROR,\n    UPDATE_CODE,\n    LOGIN_SUCCESS,\n    LOGIN_ERROR\n} from '../mutation-types'\n\nconst state = {\n    isLoading: false, //路由加载标志位\n    direction: 'forward', //路由动画变量\n\n    ddConfig: null,\n    ddConfigStatus: null,\n    code: null,\n\n    user: null\n}\n\nconst mutations = {\n    [UPDATE_LOADING] (state, status) {\n        state.isLoading = status\n    },\n    [UPDATE_DIRECTION] (state, direction) {\n        state.direction = direction\n    },\n    [DDCONFIG_SUCCESS] (state, config) {\n        state.ddConfig = config;\n        state.ddConfigStatus = true;\n    },\n    [DDCONFIG_ERROR] (state, config) {\n        state.ddConfig = null;\n        state.ddConfigStatus = false;\n    },\n    [UPDATE_CODE] (state, code) {\n        state.code = code\n    },\n    [LOGIN_SUCCESS] (state, user) {\n        state.user = user\n    },\n    [LOGIN_ERROR] (state, user) {\n        state.user = false\n    },\n}\n\nexport default {\n    state,\n    mutations\n}\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/modules/app.js","\nexport const UPDATE_LOADING = 'UPDATE_LOADING'; //路由加载\n\nexport const UPDATE_DIRECTION = 'UPDATE_DIRECTION'; //更新路由跳转动画\n\nexport const DDCONFIG_SUCCESS = 'DDCONFIG_SUCCESS'; //钉钉配置成功\n\nexport const DDCONFIG_ERROR = 'DDCONFIG_ERROR'; //钉钉配置失败\n\nexport const UPDATE_CODE = 'UPDATE_CODE'; //更新免登录CODE\n\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS'; //免登录成功\n\nexport const LOGIN_ERROR = 'LOGIN_ERROR'; //免登录失败\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/mutation-types.js","'use strict'\nimport env from '../../env'\n\nconst bbPlugin = {};\n\nwindow.getParamByName = function(name) {\n    var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\", \"i\");\n    var r = window.location.search.substr(1).match(reg);\n    if (r != null) return unescape(r[2]); return null;\n};\n\nbbPlugin.install = function (Vue, option) {\n    \n    // 设置cookie\n    Vue.cookie = function (key, value, options) {\n        var days, time, result, decode;\n\n        if (arguments.length > 1 && String(value) !== \"[object Object]\") {\n            // Enforce object\n            options = $.extend({}, options)\n\n            if (value === null || value === undefined) options.expires = -1\n\n            if (typeof options.expires === 'number') {\n                days = (options.expires * 24 * 60 * 60 * 1000)\n                time = options.expires = new Date()\n\n                time.setTime(time.getTime() + days)\n            }\n\n            value = String(value)\n\n            return (document.cookie = [\n                encodeURIComponent(key), '=',\n                options.raw ? value : (value),\n                options.expires ? '; expires=' + options.expires.toUTCString() : '',\n                '; path=/',\n                options.domain ? '; domain=' + options.domain : '',\n                options.secure ? '; secure' : ''\n            ].join(''))\n        }\n\n        // Key and possibly options given, get cookie\n        options = value || {}\n\n        decode = options.raw ? function (s) { return s } : decodeURIComponent\n\n        return (result = new RegExp('(?:^|; )' + encodeURIComponent(key) + '=([^;]*)').exec(document.cookie)) ? decode(result[1]) : null\n    };\n\n    Vue.prototype.base_path = env.BASE_PATH;\n\n    // 简单封装本地存储\n    Vue.prototype.localStorage = {\n        getItem : function(key){\n            if (typeof localStorage === 'object') {\n                try {\n                    return JSON.parse(localStorage.getItem(key));\n                } catch (e) {\n                    alert('请关闭[无痕浏览]模式后再试!');\n                }\n            }\n        },\n        setItem : function(key,value){\n            if (typeof localStorage === 'object') {\n                try {\n                    return localStorage.setItem(key,JSON.stringify(value));\n                } catch (e) {\n                    alert('请关闭[无痕浏览]模式后再试!');\n                }\n            }\n        },\n        removeItem : function(key){\n            if (typeof localStorage === 'object') {\n                try {\n                    return localStorage.removeItem(key);\n                } catch (e) {\n                    alert('请关闭[无痕浏览]模式后再试!');\n                }\n            }\n        },\n        getUseSize : function(){\n            if (typeof localStorage === 'object') {\n                try {\n                    return JSON.stringify(localStorage).length;\n                } catch (e) {\n                    alert('请关闭[无痕浏览]模式后再试!');\n                }\n            }\n        }\n    };\n\n    Date.prototype.Format = function (fmt) { //author: meizz\n        var o = {\n            \"M+\": this.getMonth() + 1, //月份\n            \"d+\": this.getDate(), //日\n            \"H+\": this.getHours(), //小时\n            \"m+\": this.getMinutes(), //分\n            \"s+\": this.getSeconds(), //秒\n            \"q+\": Math.floor((this.getMonth() + 3) / 3), //季度\n            \"S\": this.getMilliseconds() //毫秒\n        };\n        if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n        for (var k in o)\n            if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\n        return fmt;\n    }\n    \n\n};\n\n(function (Plugin) {\n    if(typeof module === 'object' && typeof module.exports === 'object'){\n        module.exports = Plugin;\n    }else{\n        if(window.bb){\n            window.bb['bbPlugin'] = Plugin;\n        }else{\n            window.bb = {\n                bbPlugin:Plugin\n            }\n        }\n    }\n})(bbPlugin);\n\n\n// WEBPACK FOOTER //\n// ./src/lib/vue-bb-plugin.js","'use strict';\nimport Vue from 'vue'\nimport Tpl from './template.html'\nimport Value from './value'\nimport './style.less'\n\nimport store from '../../vuex/store'\nimport {getRequestAuthCode} from '../../vuex/actions'\n\nlet Index = Vue.extend({\n    template : Tpl,\n    store: store,\n    vuex: {\n        getters: {\n            route: (state) => state.route,\n            isLoading: (state) => state.app.isLoading,\n            direction: (state) => state.app.direction,\n            ddConfig: (state) => state.app.ddConfig,\n            ddConfigStatus: (state) => state.app.ddConfigStatus,\n            code: (state) => state.app.code,\n            userInfo: (state) => state.app.user,\n        },\n        actions: {\n            getRequestAuthCode\n        }\n    },\n    watch: {\n        ddConfigStatus: function (val, oldVal) {\n            if(val === true){\n                this.getRequestAuthCode(this.ddConfig.corpId);\n            }\n        },\n        userInfo: function (val, oldVal) {\n            if(val && val.mobile == ''){\n                this.$router.go(this.base_path+'/user/bind')\n            }\n        }\n    },\n    ready : function(){\n        console.log('APP ready 应该只执行一次');\n    },\n    data : ()=>{\n        return Value\n    },\n    methods: {\n\n    },\n    computed : {\n        showConfigErrorDialog(){\n            return this.ddConfigStatus === false;\n        },\n        showCodeErrorDialog(){\n            return this.code === false;\n        }\n    }\n})\n\nexport default Index\n\n\n// WEBPACK FOOTER //\n// ./src/page/app/index.js","module.exports = \"<div>\\n    <router-view :transition=\\\"'vux-pop-' + (direction === 'forward' ? 'in' : 'out')\\\">\\n\\n    </router-view>\\n    <alert :show=\\\"showConfigErrorDialog\\\" title=\\\"发生错误\\\">\\n        dd.config配置失败\\n    </alert>\\n    <alert :show=\\\"showCodeErrorDialog\\\" title=\\\"发生错误\\\">\\n        免登陆code获取失败\\n    </alert>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/app/template.html\n// module id = 54\n// module chunks = 1","let value = {\n    routerTransition: {\n        forward: 'slideRL',\n        back: 'slideLR'\n    }\n}\n\nexport default value;\n\n\n// WEBPACK FOOTER //\n// ./src/page/app/value.js","import * as mutations from './mutation-types'\nimport env from '../../env'\nimport axios from 'axios'\nimport { logException, setRavenUser } from '../lib/ravenConfig'\n\nexport function getRequestAuthCode({ dispatch, state }, corpId) {\n\n    callJsApi('runtime.permission.requestAuthCode',{\n        corpId : state.app.ddConfig.corpId || corpId,\n    }).then((result)=>{\n        dispatch(mutations.UPDATE_CODE,result.code)\n\n        getUserInfo({ dispatch, state },result.code)\n\n        console.log('获取到了免登陆code=>'+result.code)\n    }).catch((err)=>{\n        dispatch(mutations.UPDATE_CODE,false)\n        logException(new Error('获取免登陆code失败'), err)\n    });\n\n}\n\nexport function getUserInfo({dispatch, state}, code) {\n    axios.get('/user/getUserinfo', {\n        params: {\n            code: code,\n            corpId: state.app.ddConfig.corpId,\n            suiteKey: window.getParamByName('suiteKey')\n        },\n        timeout: 5000,\n    }).then(function (response) {\n        if(response.status == 200 && response.data.code == 200){\n            let user = response.data.result;\n            dispatch(mutations.LOGIN_SUCCESS, user);\n            // dispatch(mutations.UPDATE_SYS_LEVEL, user.sys_level);\n            setRavenUser(user);\n        }else{\n            dispatch(mutations.LOGIN_ERROR,false)\n            logException(new Error('获取用户信息'), this)\n        }\n    }).catch(function (err) {\n        dispatch(mutations.LOGIN_ERROR,false)\n        logException(new Error('获取用户信息'), err)\n    });\n}\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/actions.js"],"sourceRoot":""}