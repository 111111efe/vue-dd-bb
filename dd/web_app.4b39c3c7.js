webpackJsonp([1],[function(e,t,o){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(){return d.default.Promise(function(e,t){f.default.get(O.default.API_HOST+"/auth/getConfig",{params:{corpid:getParamByName("corpid")||"ding1b56d2f4ba72e91635c2f4657eb6378f",appid:getParamByName("appid")||"2545",suitekey:getParamByName("suiteKey")||"suiteiyfdj0dfixywzqwg",paramUrl:document.URL},timeout:2e3}).then(function(o){if(200==o.status&&200==o.data.code){var n=o.data.result,i={agentId:n.agentId,corpId:n.corpId,timeStamp:n.timeStamp,nonceStr:n.nonceStr,signature:n.signature,type:0,jsApiList:["runtime.info","runtime.permission.requestAuthCode","runtime.permission.requestOperateAuthCode","biz.alipay.pay","biz.contact.choose","biz.contact.complexChoose","biz.contact.complexPicker","biz.contact.createGroup","biz.customContact.choose","biz.customContact.multipleChoose","biz.ding.post","biz.map.locate","biz.map.view","biz.util.openLink","biz.util.open","biz.util.share","biz.util.uploadImage","biz.util.previewImage","biz.util.datepicker","biz.util.timepicker","biz.util.datetimepicker","biz.util.chosen","biz.util.encrypt","biz.util.decrypt","biz.chat.pickConversation","biz.telephone.call","biz.navigation.setLeft","biz.navigation.setTitle","biz.navigation.setIcon","biz.navigation.close","biz.navigation.setRight","biz.navigation.setMenu","biz.user.get","ui.progressBar.setColors","device.base.getInterface","device.connection.getNetworkType","device.launcher.checkInstalledApps","device.launcher.launchApp","device.notification.confirm","device.notification.alert","device.notification.prompt","device.notification.showPreloader","device.notification.hidePreloader","device.notification.toast","device.notification.actionSheet","device.notification.modal","device.geolocation.get"]};e(i)}else t({errCode:-2,msg:"接口请求失败"})}).catch(function(e){t({errCode:-2,msg:"接口请求失败"})})})}function u(){return d.default.Promise(function(e,t){var o=setTimeout(function(){t({errCode:-1,msg:"dd.ready初始化超时"})},2e3);T.ready(function(){console.log("初始化钉钉"),clearTimeout(o),T.biz.navigation.setLeft({show:!0,control:!0,showIcon:!0,text:"返回",onSuccess:function(e){console.log("点击了返回按钮"),window.history.back()},onFail:function(e){}}),T.runtime.info({onSuccess:function(e){window.ability=parseInt(e.ability.replace(/\./g,"")),console.log("容器版本为"+window.ability)},onFail:function(e){}}),e(!0)}),T.error(function(e){clearTimeout(o),console.error("dd error: "+JSON.stringify(e)),t({errCode:-1,msg:"dd.error配置信息不对"})})})}function c(){return d.default.Promise(function(e,t){var n;g.default.use(m.default),g.default.use(R.default),g.default.use(P.default);var i=new m.default({transitionOnLoad:!1});i.map((n={},r(n,O.default.BASE_PATH,{component:function(e){o.e(2,function(){var t=o(50).default;e(t)})},subRoutes:{"/":{component:function(e){o.e(3,function(){var t=o(56).default;e(t)})}},"/member":{component:function(e){o.e(4,function(){var t=o(66).default;e(t)})}}}}),r(n,O.default.BASE_PATH+"/user/sign_in",{component:function(e){o.e(5,function(){var t=o(74).default;e(t)})}}),r(n,O.default.BASE_PATH+"/user/bind",{component:function(e){o.e(6,function(){var t=o(78).default;e(t)})}}),n)),i.redirect({"*":O.default.BASE_PATH});var a=window.sessionStorage;a.clear();var u=1*a.getItem("count")||0;a.setItem("/",0),i.beforeEach(function(e){var t=e.to,o=e.from,n=e.next,i=a.getItem(t.path),r=a.getItem(o.path);i?i>r||!r?N("UPDATE_DIRECTION","forward"):N("UPDATE_DIRECTION","reverse"):(++u,a.setItem("count",u),"/"!==t.path&&a.setItem(t.path,u),N("UPDATE_DIRECTION","forward")),N("UPDATE_LOADING",!0),setTimeout(function(){try{T.biz.navigation.setRight({show:!1})}catch(e){console.error(e)}n()},10)}),i.afterEach(function(){N("UPDATE_LOADING",!1)}),(0,y.sync)(S.default,i),i.start(D.default,"#app"),I.default.attach(document.body),e()})}var l=o(1),d=i(l),s=o(5),f=i(s),p=o(31),g=i(p),b=o(32),m=i(b);o(37);var h=o(35),v=n(h),y=o(34),w=o(38),S=i(w),C=o(36),I=i(C),_=o(30),O=i(_),E=o(41),R=i(E),z=o(43),P=i(z),A=o(45),D=i(A);window.getParamByName=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),o=window.location.search.substr(1).match(t);return null!=o?unescape(o[2]):null};var T=window.dd,N=S.default.commit||S.default.dispatch;g.default.config.debug=!0,g.default.config.devtools=!0,g.default.component("alert",v.Alert),g.default.component("loading",v.Loading),g.default.component("group",v.Group),g.default.component("x-input",v.XInput),g.default.component("x-button",v.XButton);var U=null;a().then(function(e){U=e,T.config(U)}).catch(function(e){alert(JSON.stringify(e))}).finally(function(){u().then(c).then(function(){document.querySelector("#init-loading").remove(),console.log("init vue 完成"),setTimeout(function(){null!=U?N("DDCONFIG_SUCCESS",U):N("DDCONFIG_ERROR",!1)},300)})})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(31),r=n(i),a=o(33),u=n(a),c=o(39),l=n(c);r.default.use(u.default),t.default=new u.default.Store({modules:{app:l.default}})},function(e,t,o){"use strict";function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}Object.defineProperty(t,"__esModule",{value:!0});var i,r=o(40),a={isLoading:!1,direction:"forward",ddConfig:null,ddConfigStatus:null,code:null,user:null},u=(i={},n(i,r.UPDATE_LOADING,function(e,t){e.isLoading=t}),n(i,r.UPDATE_DIRECTION,function(e,t){e.direction=t}),n(i,r.DDCONFIG_SUCCESS,function(e,t){e.ddConfig=t,e.ddConfigStatus=!0}),n(i,r.DDCONFIG_ERROR,function(e,t){e.ddConfig=null,e.ddConfigStatus=!1}),n(i,r.UPDATE_CODE,function(e,t){e.code=t}),n(i,r.LOGIN_SUCCESS,function(e,t){e.user=t}),n(i,r.LOGIN_ERROR,function(e,t){e.user=!1}),i);t.default={state:a,mutations:u}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UPDATE_LOADING="UPDATE_LOADING",t.UPDATE_DIRECTION="UPDATE_DIRECTION",t.DDCONFIG_SUCCESS="DDCONFIG_SUCCESS",t.DDCONFIG_ERROR="DDCONFIG_ERROR",t.UPDATE_CODE="UPDATE_CODE",t.LOGIN_SUCCESS="LOGIN_SUCCESS",t.LOGIN_ERROR="LOGIN_ERROR"},function(e,t,o){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=o(30),r=t(i),a={};a.install=function(e,t){e.cookie=function(e,t,o){var n,i,r,a;return arguments.length>1&&"[object Object]"!==String(t)?(o=$.extend({},o),null!==t&&void 0!==t||(o.expires=-1),"number"==typeof o.expires&&(n=24*o.expires*60*60*1e3,i=o.expires=new Date,i.setTime(i.getTime()+n)),t=String(t),document.cookie=[encodeURIComponent(e),"=",o.raw?t:t,o.expires?"; expires="+o.expires.toUTCString():"","; path=/",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")):(o=t||{},a=o.raw?function(e){return e}:decodeURIComponent,(r=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?a(r[1]):null)},e.prototype.base_path=r.default.BASE_PATH,e.prototype.localStorage={getItem:function(e){if("object"===("undefined"==typeof localStorage?"undefined":n(localStorage)))try{return JSON.parse(localStorage.getItem(e))}catch(e){alert("请关闭[无痕浏览]模式后再试!")}},setItem:function(e,t){if("object"===("undefined"==typeof localStorage?"undefined":n(localStorage)))try{return localStorage.setItem(e,JSON.stringify(t))}catch(e){alert("请关闭[无痕浏览]模式后再试!")}},removeItem:function(e){if("object"===("undefined"==typeof localStorage?"undefined":n(localStorage)))try{return localStorage.removeItem(e)}catch(e){alert("请关闭[无痕浏览]模式后再试!")}},getUseSize:function(){if("object"===("undefined"==typeof localStorage?"undefined":n(localStorage)))try{return JSON.stringify(localStorage).length}catch(e){alert("请关闭[无痕浏览]模式后再试!")}}},Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var o in t)new RegExp("("+o+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[o]:("00"+t[o]).substr((""+t[o]).length)));return e}},function(t){"object"===n(e)&&"object"===n(e.exports)?e.exports=t:window.bb?window.bb.bbPlugin=t:window.bb={bbPlugin:t}}(a)}).call(t,o(42)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,o){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=o(1),r=t(i),a=o(44),u=t(a),c={};c.install=function(e,t){var o=window.dd;o?(e.prototype.setTitle=function(e){return r.default.Promise(function(t,n){return!window.ability||window.ability<u.default["biz.navigation.setTitle"]?(console.warn("容器版本过低，不支持 biz.navigation.setTitle"),n({errCode:404,msg:"容器版本过低，不支持该api"})):void o.biz.navigation.setTitle({title:e.title,onSuccess:function(e){t(e)},onFail:function(e){n(e)}})})},e.prototype.setRightText=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{show:!1};return r.default.Promise(function(t,n){return!window.ability||window.ability<u.default["biz.navigation.setRight"]?(console.warn("容器版本过低，不支持 biz.navigation.setRight"),n({errCode:404,msg:"容器版本过低，不支持该api"})):void o.biz.navigation.setRight({show:e.show,control:!!e.control&&e.control,text:e.text||"发送",onSuccess:function(e){t(e)},onFail:function(e){n(e)}})})},e.prototype.getRequestOperateAuthCode=function(e,t){return r.default.Promise(function(n,i){return!window.ability||window.ability<u.default["runtime.permission.requestOperateAuthCode"]?(console.warn("容器版本过低，不支持 runtime.permission.requestOperateAuthCode"),i({errCode:404,msg:"容器版本过低，不支持该api"})):void o.runtime.permission.requestOperateAuthCode({corpId:e,agentId:t,onSuccess:function(e){n(e)},onFail:function(e){i(e)}})})}):console.error("dd没有定义")},function(t){"object"===n(e)&&"object"===n(e.exports)?e.exports=t:window.bb?window.bb.ddPlugin=t:window.bb={ddPlugin:t}}(c)}).call(t,o(42)(e))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"biz.util.open":{chat:0,call:0,profile:0,contactAdd:4,friendAdd:4},"device.accelerometer.watchShake":0,"device.accelerometer.clearShake":0,"device.notification.vibrate":0,"biz.contact.choose":0,"biz.navigation.setLeft":0,"biz.navigation.setTitle":0,"biz.navigation.setRight":0,"biz.navigation.back":0,"device.notification.alert":0,"device.notification.confirm":0,"device.notification.prompt":0,"biz.util.share":0,"biz.util.ut":0,"biz.util.datepicker":0,"biz.util.timepicker":0,"runtime.info":1,"device.geolocation.get":1,"device.notification.toast":1,"device.notification.showPreloader":1,"device.notification.hidePreloader":1,"biz.util.uploadImage":1,"biz.util.previewImage":1,"device.connection.getNetworkType":2,"biz.util.qrcode":2,"device.notification.actionSheet":2,"ui.input.plain":2,"biz.ding.post":3,"biz.telephone.call":3,"biz.chat.chooseConversation":3,"biz.contact.createGroup":4,"biz.util.datetimepicker":4,"biz.util.chosen":5,"device.base.getUUID":5,"device.base.getInterface":5,"device.launcher.checkInstalledApps":5,"device.launcher.launchApp":5,"runtime.permission.requestAuthCode":5,"runtime.permission.requestJsApis":5,"ui.pullToRefresh.enable":5,"ui.pullToRefresh.stop":5,"ui.pullToRefresh.disable":5,"ui.webViewBounce.disable":5,"ui.webViewBounce.enable":5}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(31),r=n(i),a=o(46),u=n(a),c=o(47),l=n(c);o(48);var d=o(38),s=n(d),f=o(49),p=r.default.extend({template:u.default,store:s.default,vuex:{getters:{route:function(e){return e.route},isLoading:function(e){return e.app.isLoading},direction:function(e){return e.app.direction},ddConfig:function(e){return e.app.ddConfig},ddConfigStatus:function(e){return e.app.ddConfigStatus},code:function(e){return e.app.code},userInfo:function(e){return e.app.user}},actions:{getRequestAuthCode:f.getRequestAuthCode}},watch:{ddConfigStatus:function(e,t){e===!0&&this.getRequestAuthCode(this.ddConfig.corpId)},userInfo:function(e,t){e&&""==e.mobile&&this.$router.go(this.base_path+"/user/bind")}},ready:function(){console.log("APP ready 应该只执行一次")},data:function(){return l.default},methods:{},computed:{showConfigErrorDialog:function(){return this.ddConfigStatus===!1},showCodeErrorDialog:function(){return this.code===!1}}});t.default=p},function(e,t){e.exports='<div>\n    <router-view :transition="\'vux-pop-\' + (direction === \'forward\' ? \'in\' : \'out\')">\n\n    </router-view>\n    <alert :show="showConfigErrorDialog" title="发生错误">\n        dd.config配置失败\n    </alert>\n    <alert :show="showCodeErrorDialog" title="发生错误">\n        免登陆code获取失败\n    </alert>\n</div>'},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={routerTransition:{forward:"slideRL",back:"slideLR"}};t.default=o},function(e,t){},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function r(e,t){var o=e.dispatch,n=e.state;return!window.ability||window.ability<f.default["runtime.permission.requestAuthCode"]?void console.warn("容器版本过低，不支持 runtime.permission.requestAuthCode"):void dd.runtime.permission.requestAuthCode({corpId:n.app.ddConfig.corpId||t,onSuccess:function(e){o(c.UPDATE_CODE,e.code),a({dispatch:o,state:n},e.code),console.log("获取到了免登陆code=>"+e.code)},onFail:function(e){o(c.UPDATE_CODE,!1),console.log("获取免登陆code失败")}})}function a(e,t){var o=e.dispatch,n=e.state;g.default.get(d.default.API_HOST+"/user/getUserinfo",{params:{code:t,corpId:n.app.ddConfig.corpId,suiteKey:window.getParamByName("suiteKey")},timeout:5e3}).then(function(e){if(200==e.status&&200==e.data.code){var t=e.data.result;o(c.LOGIN_SUCCESS,t),o(c.UPDATE_SYS_LEVEL,t.sys_level)}else o(c.LOGIN_ERROR,!1)}).catch(function(e){o(c.LOGIN_ERROR,!1)})}Object.defineProperty(t,"__esModule",{value:!0}),t.getRequestAuthCode=r,t.getUserInfo=a;var u=o(40),c=i(u),l=o(30),d=n(l),s=o(44),f=n(s),p=o(5),g=n(p)}]);